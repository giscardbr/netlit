{
    "version": 3,
    "terraform_version": "0.11.14",
    "serial": 81,
    "lineage": "56ed4d64-850a-aa65-03ee-0dd28efbe427",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {
                "accounts_dns": {
                    "sensitive": false,
                    "type": "string",
                    "value": "accounts.netlit.local"
                },
                "authorization_server_dns": {
                    "sensitive": false,
                    "type": "string",
                    "value": "authorization-server.netlit.local"
                },
                "customer_service_dns": {
                    "sensitive": false,
                    "type": "string",
                    "value": "customer-service.netlit.local"
                },
                "library_dns": {
                    "sensitive": false,
                    "type": "string",
                    "value": "library.netlit.local"
                },
                "payments_dns": {
                    "sensitive": false,
                    "type": "string",
                    "value": "payments.netlit.local"
                }
            },
            "resources": {
                "aws_dynamodb_table.account_table": {
                    "type": "aws_dynamodb_table",
                    "depends_on": [],
                    "primary": {
                        "id": "prod.Account",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-1:478297097809:table/prod.Account",
                            "attribute.#": "1",
                            "attribute.3292831115.name": "Id",
                            "attribute.3292831115.type": "S",
                            "billing_mode": "PROVISIONED",
                            "global_secondary_index.#": "0",
                            "hash_key": "Id",
                            "id": "prod.Account",
                            "local_secondary_index.#": "0",
                            "name": "prod.Account",
                            "point_in_time_recovery.#": "1",
                            "point_in_time_recovery.0.enabled": "false",
                            "read_capacity": "1",
                            "server_side_encryption.#": "0",
                            "stream_arn": "",
                            "stream_enabled": "false",
                            "stream_label": "",
                            "stream_view_type": "",
                            "tags.%": "0",
                            "ttl.#": "1",
                            "ttl.0.attribute_name": "",
                            "ttl.0.enabled": "false",
                            "write_capacity": "1"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 3600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_dynamodb_table.address_table": {
                    "type": "aws_dynamodb_table",
                    "depends_on": [],
                    "primary": {
                        "id": "prod.Address",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-1:478297097809:table/prod.Address",
                            "attribute.#": "1",
                            "attribute.3292831115.name": "Id",
                            "attribute.3292831115.type": "S",
                            "billing_mode": "PROVISIONED",
                            "global_secondary_index.#": "0",
                            "hash_key": "Id",
                            "id": "prod.Address",
                            "local_secondary_index.#": "0",
                            "name": "prod.Address",
                            "point_in_time_recovery.#": "1",
                            "point_in_time_recovery.0.enabled": "false",
                            "read_capacity": "1",
                            "server_side_encryption.#": "0",
                            "stream_arn": "",
                            "stream_enabled": "false",
                            "stream_label": "",
                            "stream_view_type": "",
                            "tags.%": "0",
                            "ttl.#": "1",
                            "ttl.0.attribute_name": "",
                            "ttl.0.enabled": "false",
                            "write_capacity": "1"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 3600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_dynamodb_table.bookmark_table": {
                    "type": "aws_dynamodb_table",
                    "depends_on": [],
                    "primary": {
                        "id": "prod.Bookmark",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-1:478297097809:table/prod.Bookmark",
                            "attribute.#": "2",
                            "attribute.1983055057.name": "AccountId",
                            "attribute.1983055057.type": "S",
                            "attribute.2065355430.name": "BookId",
                            "attribute.2065355430.type": "S",
                            "billing_mode": "PROVISIONED",
                            "global_secondary_index.#": "0",
                            "hash_key": "AccountId",
                            "id": "prod.Bookmark",
                            "local_secondary_index.#": "0",
                            "name": "prod.Bookmark",
                            "point_in_time_recovery.#": "1",
                            "point_in_time_recovery.0.enabled": "false",
                            "range_key": "BookId",
                            "read_capacity": "1",
                            "server_side_encryption.#": "0",
                            "stream_arn": "",
                            "stream_enabled": "false",
                            "stream_label": "",
                            "stream_view_type": "",
                            "tags.%": "0",
                            "ttl.#": "1",
                            "ttl.0.attribute_name": "",
                            "ttl.0.enabled": "false",
                            "write_capacity": "1"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 3600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_dynamodb_table.credentials_table": {
                    "type": "aws_dynamodb_table",
                    "depends_on": [],
                    "primary": {
                        "id": "prod.Credentials",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-1:478297097809:table/prod.Credentials",
                            "attribute.#": "2",
                            "attribute.1983055057.name": "AccountId",
                            "attribute.1983055057.type": "S",
                            "attribute.3355349399.name": "Email",
                            "attribute.3355349399.type": "S",
                            "billing_mode": "PROVISIONED",
                            "global_secondary_index.#": "1",
                            "global_secondary_index.1501606705.hash_key": "AccountId",
                            "global_secondary_index.1501606705.name": "AccountIndex",
                            "global_secondary_index.1501606705.non_key_attributes.#": "0",
                            "global_secondary_index.1501606705.projection_type": "ALL",
                            "global_secondary_index.1501606705.range_key": "",
                            "global_secondary_index.1501606705.read_capacity": "1",
                            "global_secondary_index.1501606705.write_capacity": "1",
                            "hash_key": "Email",
                            "id": "prod.Credentials",
                            "local_secondary_index.#": "0",
                            "name": "prod.Credentials",
                            "point_in_time_recovery.#": "1",
                            "point_in_time_recovery.0.enabled": "false",
                            "read_capacity": "1",
                            "server_side_encryption.#": "0",
                            "stream_arn": "",
                            "stream_enabled": "false",
                            "stream_label": "",
                            "stream_view_type": "",
                            "tags.%": "0",
                            "ttl.#": "1",
                            "ttl.0.attribute_name": "",
                            "ttl.0.enabled": "false",
                            "write_capacity": "1"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 3600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_dynamodb_table.read_book_table": {
                    "type": "aws_dynamodb_table",
                    "depends_on": [],
                    "primary": {
                        "id": "prod.ReadBook",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-1:478297097809:table/prod.ReadBook",
                            "attribute.#": "3",
                            "attribute.1983055057.name": "AccountId",
                            "attribute.1983055057.type": "S",
                            "attribute.3292831115.name": "Id",
                            "attribute.3292831115.type": "S",
                            "attribute.517832912.name": "ReadAt",
                            "attribute.517832912.type": "S",
                            "billing_mode": "PROVISIONED",
                            "global_secondary_index.#": "1",
                            "global_secondary_index.3884092585.hash_key": "AccountId",
                            "global_secondary_index.3884092585.name": "AccountIndex",
                            "global_secondary_index.3884092585.non_key_attributes.#": "0",
                            "global_secondary_index.3884092585.projection_type": "ALL",
                            "global_secondary_index.3884092585.range_key": "ReadAt",
                            "global_secondary_index.3884092585.read_capacity": "1",
                            "global_secondary_index.3884092585.write_capacity": "1",
                            "hash_key": "Id",
                            "id": "prod.ReadBook",
                            "local_secondary_index.#": "0",
                            "name": "prod.ReadBook",
                            "point_in_time_recovery.#": "1",
                            "point_in_time_recovery.0.enabled": "false",
                            "read_capacity": "1",
                            "server_side_encryption.#": "0",
                            "stream_arn": "",
                            "stream_enabled": "false",
                            "stream_label": "",
                            "stream_view_type": "",
                            "tags.%": "0",
                            "ttl.#": "1",
                            "ttl.0.attribute_name": "",
                            "ttl.0.enabled": "false",
                            "write_capacity": "1"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 3600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_dynamodb_table.read_page_table": {
                    "type": "aws_dynamodb_table",
                    "depends_on": [],
                    "primary": {
                        "id": "prod.ReadPage",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-1:478297097809:table/prod.ReadPage",
                            "attribute.#": "2",
                            "attribute.3292831115.name": "Id",
                            "attribute.3292831115.type": "S",
                            "attribute.517832912.name": "ReadAt",
                            "attribute.517832912.type": "S",
                            "billing_mode": "PROVISIONED",
                            "global_secondary_index.#": "0",
                            "hash_key": "Id",
                            "id": "prod.ReadPage",
                            "local_secondary_index.#": "0",
                            "name": "prod.ReadPage",
                            "point_in_time_recovery.#": "1",
                            "point_in_time_recovery.0.enabled": "false",
                            "range_key": "ReadAt",
                            "read_capacity": "1",
                            "server_side_encryption.#": "0",
                            "stream_arn": "",
                            "stream_enabled": "false",
                            "stream_label": "",
                            "stream_view_type": "",
                            "tags.%": "0",
                            "ttl.#": "1",
                            "ttl.0.attribute_name": "",
                            "ttl.0.enabled": "false",
                            "write_capacity": "1"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 3600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_dynamodb_table.review_table": {
                    "type": "aws_dynamodb_table",
                    "depends_on": [],
                    "primary": {
                        "id": "prod.Review",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-1:478297097809:table/prod.Review",
                            "attribute.#": "2",
                            "attribute.2065355430.name": "BookId",
                            "attribute.2065355430.type": "S",
                            "attribute.3355349399.name": "Email",
                            "attribute.3355349399.type": "S",
                            "billing_mode": "PROVISIONED",
                            "global_secondary_index.#": "0",
                            "hash_key": "Email",
                            "id": "prod.Review",
                            "local_secondary_index.#": "0",
                            "name": "prod.Review",
                            "point_in_time_recovery.#": "1",
                            "point_in_time_recovery.0.enabled": "false",
                            "range_key": "BookId",
                            "read_capacity": "1",
                            "server_side_encryption.#": "0",
                            "stream_arn": "",
                            "stream_enabled": "false",
                            "stream_label": "",
                            "stream_view_type": "",
                            "tags.%": "0",
                            "ttl.#": "1",
                            "ttl.0.attribute_name": "",
                            "ttl.0.enabled": "false",
                            "write_capacity": "1"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 3600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_dynamodb_table.school_grade_room_table": {
                    "type": "aws_dynamodb_table",
                    "depends_on": [],
                    "primary": {
                        "id": "prod.SchoolGradeRoom",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-1:478297097809:table/prod.SchoolGradeRoom",
                            "attribute.#": "1",
                            "attribute.3292831115.name": "Id",
                            "attribute.3292831115.type": "S",
                            "billing_mode": "PROVISIONED",
                            "global_secondary_index.#": "0",
                            "hash_key": "Id",
                            "id": "prod.SchoolGradeRoom",
                            "local_secondary_index.#": "0",
                            "name": "prod.SchoolGradeRoom",
                            "point_in_time_recovery.#": "1",
                            "point_in_time_recovery.0.enabled": "false",
                            "read_capacity": "1",
                            "server_side_encryption.#": "0",
                            "stream_arn": "",
                            "stream_enabled": "false",
                            "stream_label": "",
                            "stream_view_type": "",
                            "tags.%": "0",
                            "ttl.#": "1",
                            "ttl.0.attribute_name": "",
                            "ttl.0.enabled": "false",
                            "write_capacity": "1"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 3600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_dynamodb_table.school_room_student_table": {
                    "type": "aws_dynamodb_table",
                    "depends_on": [],
                    "primary": {
                        "id": "prod.SchoolRoomStudent",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-1:478297097809:table/prod.SchoolRoomStudent",
                            "attribute.#": "1",
                            "attribute.3292831115.name": "Id",
                            "attribute.3292831115.type": "S",
                            "billing_mode": "PROVISIONED",
                            "global_secondary_index.#": "0",
                            "hash_key": "Id",
                            "id": "prod.SchoolRoomStudent",
                            "local_secondary_index.#": "0",
                            "name": "prod.SchoolRoomStudent",
                            "point_in_time_recovery.#": "1",
                            "point_in_time_recovery.0.enabled": "false",
                            "read_capacity": "1",
                            "server_side_encryption.#": "0",
                            "stream_arn": "",
                            "stream_enabled": "false",
                            "stream_label": "",
                            "stream_view_type": "",
                            "tags.%": "0",
                            "ttl.#": "1",
                            "ttl.0.attribute_name": "",
                            "ttl.0.enabled": "false",
                            "write_capacity": "1"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 3600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_dynamodb_table.sub_account_table": {
                    "type": "aws_dynamodb_table",
                    "depends_on": [],
                    "primary": {
                        "id": "prod.SubAccount",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-1:478297097809:table/prod.SubAccount",
                            "attribute.#": "1",
                            "attribute.3292831115.name": "Id",
                            "attribute.3292831115.type": "S",
                            "billing_mode": "PROVISIONED",
                            "global_secondary_index.#": "0",
                            "hash_key": "Id",
                            "id": "prod.SubAccount",
                            "local_secondary_index.#": "0",
                            "name": "prod.SubAccount",
                            "point_in_time_recovery.#": "1",
                            "point_in_time_recovery.0.enabled": "false",
                            "read_capacity": "1",
                            "server_side_encryption.#": "0",
                            "stream_arn": "",
                            "stream_enabled": "false",
                            "stream_label": "",
                            "stream_view_type": "",
                            "tags.%": "0",
                            "ttl.#": "1",
                            "ttl.0.attribute_name": "",
                            "ttl.0.enabled": "false",
                            "write_capacity": "1"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 3600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_dynamodb_table.user_table": {
                    "type": "aws_dynamodb_table",
                    "depends_on": [],
                    "primary": {
                        "id": "prod.User",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-1:478297097809:table/prod.User",
                            "attribute.#": "1",
                            "attribute.3355349399.name": "Email",
                            "attribute.3355349399.type": "S",
                            "billing_mode": "PROVISIONED",
                            "global_secondary_index.#": "0",
                            "hash_key": "Email",
                            "id": "prod.User",
                            "local_secondary_index.#": "0",
                            "name": "prod.User",
                            "point_in_time_recovery.#": "1",
                            "point_in_time_recovery.0.enabled": "false",
                            "read_capacity": "1",
                            "server_side_encryption.#": "0",
                            "stream_arn": "",
                            "stream_enabled": "false",
                            "stream_label": "",
                            "stream_view_type": "",
                            "tags.%": "0",
                            "ttl.#": "1",
                            "ttl.0.attribute_name": "",
                            "ttl.0.enabled": "false",
                            "write_capacity": "1"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 3600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_dynamodb_table.verification_token_table": {
                    "type": "aws_dynamodb_table",
                    "depends_on": [],
                    "primary": {
                        "id": "prod.VerificationToken",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-1:478297097809:table/prod.VerificationToken",
                            "attribute.#": "1",
                            "attribute.3292831115.name": "Id",
                            "attribute.3292831115.type": "S",
                            "billing_mode": "PROVISIONED",
                            "global_secondary_index.#": "0",
                            "hash_key": "Id",
                            "id": "prod.VerificationToken",
                            "local_secondary_index.#": "0",
                            "name": "prod.VerificationToken",
                            "point_in_time_recovery.#": "1",
                            "point_in_time_recovery.0.enabled": "false",
                            "read_capacity": "1",
                            "server_side_encryption.#": "0",
                            "stream_arn": "",
                            "stream_enabled": "false",
                            "stream_label": "",
                            "stream_view_type": "",
                            "tags.%": "0",
                            "ttl.#": "1",
                            "ttl.0.attribute_name": "",
                            "ttl.0.enabled": "false",
                            "write_capacity": "1"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 3600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_ecs_cluster.netlit": {
                    "type": "aws_ecs_cluster",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:ecs:us-east-1:478297097809:cluster/netlit-cluster",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-east-1:478297097809:cluster/netlit-cluster",
                            "id": "arn:aws:ecs:us-east-1:478297097809:cluster/netlit-cluster",
                            "name": "netlit-cluster",
                            "setting.#": "0",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role.accounts_role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "accounts-role",
                        "attributes": {
                            "arn": "arn:aws:iam::478297097809:role/accounts-role",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"EcsTaskExecutionRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-04-22T16:18:25Z",
                            "description": "",
                            "force_detach_policies": "false",
                            "id": "accounts-role",
                            "max_session_duration": "3600",
                            "name": "accounts-role",
                            "path": "/",
                            "tags.%": "1",
                            "tags.Environment": "prd",
                            "unique_id": "AROAW6XF2QZIUDVUMPDPA"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role.authorization_server_role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "authorization-server-prd-role",
                        "attributes": {
                            "arn": "arn:aws:iam::478297097809:role/authorization-server-prd-role",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"EcsTaskExecutionRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-09-07T20:42:38Z",
                            "description": "",
                            "force_detach_policies": "false",
                            "id": "authorization-server-prd-role",
                            "max_session_duration": "3600",
                            "name": "authorization-server-prd-role",
                            "path": "/",
                            "tags.%": "1",
                            "tags.Environment": "prd",
                            "unique_id": "AROAW6XF2QZIVWKRUNIGJ"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role.customer_service_role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "customer-service-role",
                        "attributes": {
                            "arn": "arn:aws:iam::478297097809:role/customer-service-role",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"EcsTaskExecutionRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-05-07T00:59:52Z",
                            "description": "",
                            "force_detach_policies": "false",
                            "id": "customer-service-role",
                            "max_session_duration": "3600",
                            "name": "customer-service-role",
                            "path": "/",
                            "tags.%": "0",
                            "unique_id": "AROAW6XF2QZITBU6SOBS7"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role.library_role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "library-prd-role",
                        "attributes": {
                            "arn": "arn:aws:iam::478297097809:role/library-prd-role",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"EcsTaskExecutionRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-09-07T20:59:36Z",
                            "description": "",
                            "force_detach_policies": "false",
                            "id": "library-prd-role",
                            "max_session_duration": "3600",
                            "name": "library-prd-role",
                            "path": "/",
                            "tags.%": "1",
                            "tags.Environment": "prd",
                            "unique_id": "AROAW6XF2QZIQ3PAOZSVT"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role.payments_role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "payments-prd-role",
                        "attributes": {
                            "arn": "arn:aws:iam::478297097809:role/payments-prd-role",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"EcsTaskExecutionRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-09-07T21:33:57Z",
                            "description": "",
                            "force_detach_policies": "false",
                            "id": "payments-prd-role",
                            "max_session_duration": "3600",
                            "name": "payments-prd-role",
                            "path": "/",
                            "tags.%": "0",
                            "unique_id": "AROAW6XF2QZIWNYXYLVB5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy.accounts_dynamodb_policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_dynamodb_table.account_table",
                        "aws_dynamodb_table.address_table",
                        "aws_dynamodb_table.credentials_table",
                        "aws_dynamodb_table.school_grade_room_table",
                        "aws_dynamodb_table.school_room_student_table",
                        "aws_dynamodb_table.sub_account_table",
                        "aws_dynamodb_table.user_table",
                        "aws_dynamodb_table.verification_token_table",
                        "aws_iam_role.accounts_role"
                    ],
                    "primary": {
                        "id": "accounts-role:accounts-dynamodb-prd-policy",
                        "attributes": {
                            "id": "accounts-role:accounts-dynamodb-prd-policy",
                            "name": "accounts-dynamodb-prd-policy",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AmazonDynamoDBReadWrite\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"dynamodb:BatchGetItem\",\n        \"dynamodb:BatchWriteItem\",\n        \"dynamodb:PutItem\",\n        \"dynamodb:DeleteItem\",\n        \"dynamodb:GetItem\",\n        \"dynamodb:Query\",\n        \"dynamodb:Scan\",\n        \"dynamodb:UpdateItem\"\n      ],\n      \"Resource\": [\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.Account\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.Account/*\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.Credentials\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.Credentials/*\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.SubAccount\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.SubAccount/*\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.Address\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.Address/*\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.User\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.User/*\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.VerificationToken\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.VerificationToken/*\", \n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.SchoolGradeRoom\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.SchoolGradeRoom/*\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.SchoolRoomStudent\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.SchoolRoomStudent/*\"\n      ]\n    }\n  ]\n}\n",
                            "role": "accounts-role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy.accounts_sns_policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.accounts_role",
                        "data.aws_sns_topic.credentials_created_topic",
                        "data.aws_sns_topic.credentials_updated_topic",
                        "data.aws_sns_topic.credit_card_registration_topic",
                        "data.aws_sns_topic.sendmail_sns"
                    ],
                    "primary": {
                        "id": "accounts-role:accounts-sns-prd-policy",
                        "attributes": {
                            "id": "accounts-role:accounts-sns-prd-policy",
                            "name": "accounts-sns-prd-policy",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AmazonSNSWriteAccess\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sns:Publish\",\n      \"Resource\": [\n        \"arn:aws:sns:us-east-1:478297097809:credentials-created-topic\",\n        \"arn:aws:sns:us-east-1:478297097809:credentials-updated-topic\",\n        \"arn:aws:sns:us-east-1:478297097809:credit-card-registration-topic\",\n        \"arn:aws:sns:us-east-1:478297097809:sendmail-sns\"\n      ]\n    }\n  ]\n}\n",
                            "role": "accounts-role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy.accounts_sqs_policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.accounts_role",
                        "data.aws_sqs_queue.authorization_server_queue"
                    ],
                    "primary": {
                        "id": "accounts-role:accounts-sqs-policy",
                        "attributes": {
                            "id": "accounts-role:accounts-sqs-policy",
                            "name": "accounts-sqs-policy",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AmazonSQSReadAccess\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"sqs:DeleteMessage\",\n        \"sqs:ReceiveMessage\"\n      ],\n      \"Resource\": \"arn:aws:sqs:us-east-1:478297097809:authorization-server-queue\"\n    }\n  ]\n}\n",
                            "role": "accounts-role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy.authorization_server_dynamodb_policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_dynamodb_table.user_table",
                        "aws_iam_role.authorization_server_role"
                    ],
                    "primary": {
                        "id": "authorization-server-prd-role:authorization-server-dynamodb-prd-policy",
                        "attributes": {
                            "id": "authorization-server-prd-role:authorization-server-dynamodb-prd-policy",
                            "name": "authorization-server-dynamodb-prd-policy",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AmazonDynamoDBReadWrite\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"dynamodb:BatchGetItem\",\n        \"dynamodb:BatchWriteItem\",\n        \"dynamodb:PutItem\",\n        \"dynamodb:DeleteItem\",\n        \"dynamodb:GetItem\",\n        \"dynamodb:Query\",\n        \"dynamodb:UpdateItem\"\n      ],\n      \"Resource\": [\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.User\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.User/*\"\n      ]\n    }\n  ]\n}\n",
                            "role": "authorization-server-prd-role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy.authorization_server_sqs_policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.authorization_server_role",
                        "data.aws_sqs_queue.authorization_server_queue"
                    ],
                    "primary": {
                        "id": "authorization-server-prd-role:authorization-server-sqs-prd-policy",
                        "attributes": {
                            "id": "authorization-server-prd-role:authorization-server-sqs-prd-policy",
                            "name": "authorization-server-sqs-prd-policy",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AmazonSQSReadAccess\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"sqs:DeleteMessage\",\n        \"sqs:ReceiveMessage\"\n      ],\n      \"Resource\": \"arn:aws:sqs:us-east-1:478297097809:authorization-server-queue\"\n    }\n  ]\n}\n",
                            "role": "authorization-server-prd-role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy.library_dynamodb_policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_dynamodb_table.bookmark_table",
                        "aws_dynamodb_table.read_book_table",
                        "aws_dynamodb_table.read_page_table",
                        "aws_dynamodb_table.review_table",
                        "aws_iam_role.library_role"
                    ],
                    "primary": {
                        "id": "library-prd-role:library-dynamodb-prd-policy",
                        "attributes": {
                            "id": "library-prd-role:library-dynamodb-prd-policy",
                            "name": "library-dynamodb-prd-policy",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AmazonDynamoDBReadWrite\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"dynamodb:BatchGetItem\",\n        \"dynamodb:BatchWriteItem\",\n        \"dynamodb:PutItem\",\n        \"dynamodb:DeleteItem\",\n        \"dynamodb:GetItem\",\n        \"dynamodb:Query\",\n        \"dynamodb:UpdateItem\"\n      ],\n      \"Resource\": [\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.ReadPage\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.ReadPage/*\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.ReadBook\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.ReadBook/*\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.Bookmark\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.Bookmark/*\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.Review\",\n        \"arn:aws:dynamodb:us-east-1:478297097809:table/prod.Review/*\"\n      ]\n    }\n  ]\n}\n",
                            "role": "library-prd-role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy.payments_sqs_policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.payments_role",
                        "data.aws_sqs_queue.payments_queue"
                    ],
                    "primary": {
                        "id": "payments-prd-role:payments-sqs-prd-policy",
                        "attributes": {
                            "id": "payments-prd-role:payments-sqs-prd-policy",
                            "name": "payments-sqs-prd-policy",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AmazonSQSReadAccess\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"sqs:DeleteMessage\",\n        \"sqs:ReceiveMessage\"\n      ],\n      \"Resource\": \"arn:aws:sqs:us-east-1:478297097809:payments-queue\"\n    }\n  ]\n}\n",
                            "role": "payments-prd-role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy_attachment.policy-attach": {
                    "type": "aws_iam_role_policy_attachment",
                    "depends_on": [
                        "aws_iam_role.accounts_role"
                    ],
                    "primary": {
                        "id": "accounts-role-20190907233420546100000002",
                        "attributes": {
                            "id": "accounts-role-20190907233420546100000002",
                            "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy",
                            "role": "accounts-role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_ecr_repository.accounts": {
                    "type": "aws_ecr_repository",
                    "depends_on": [],
                    "primary": {
                        "id": "accounts",
                        "attributes": {
                            "arn": "arn:aws:ecr:us-east-1:478297097809:repository/accounts",
                            "id": "accounts",
                            "name": "accounts",
                            "registry_id": "478297097809",
                            "repository_url": "478297097809.dkr.ecr.us-east-1.amazonaws.com/accounts",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_ecr_repository.authorization_server": {
                    "type": "aws_ecr_repository",
                    "depends_on": [],
                    "primary": {
                        "id": "authorization-server",
                        "attributes": {
                            "arn": "arn:aws:ecr:us-east-1:478297097809:repository/authorization-server",
                            "id": "authorization-server",
                            "name": "authorization-server",
                            "registry_id": "478297097809",
                            "repository_url": "478297097809.dkr.ecr.us-east-1.amazonaws.com/authorization-server",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_ecr_repository.customer_service": {
                    "type": "aws_ecr_repository",
                    "depends_on": [],
                    "primary": {
                        "id": "customer-service",
                        "attributes": {
                            "arn": "arn:aws:ecr:us-east-1:478297097809:repository/customer-service",
                            "id": "customer-service",
                            "name": "customer-service",
                            "registry_id": "478297097809",
                            "repository_url": "478297097809.dkr.ecr.us-east-1.amazonaws.com/customer-service",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_ecr_repository.library": {
                    "type": "aws_ecr_repository",
                    "depends_on": [],
                    "primary": {
                        "id": "library",
                        "attributes": {
                            "arn": "arn:aws:ecr:us-east-1:478297097809:repository/library",
                            "id": "library",
                            "name": "library",
                            "registry_id": "478297097809",
                            "repository_url": "478297097809.dkr.ecr.us-east-1.amazonaws.com/library",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_ecr_repository.payments": {
                    "type": "aws_ecr_repository",
                    "depends_on": [],
                    "primary": {
                        "id": "payments",
                        "attributes": {
                            "arn": "arn:aws:ecr:us-east-1:478297097809:repository/payments",
                            "id": "payments",
                            "name": "payments",
                            "registry_id": "478297097809",
                            "repository_url": "478297097809.dkr.ecr.us-east-1.amazonaws.com/payments",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_lb_listener.listener": {
                    "type": "aws_lb_listener",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "certificate_arn": "arn:aws:acm:us-east-1:478297097809:certificate/1a0cd699-17a7-4f43-8437-5ca7937d31bd",
                            "default_action.#": "1",
                            "default_action.0.authenticate_cognito.#": "0",
                            "default_action.0.authenticate_oidc.#": "0",
                            "default_action.0.fixed_response.#": "1",
                            "default_action.0.fixed_response.0.content_type": "application/json",
                            "default_action.0.fixed_response.0.message_body": "{\"error\":\"Not Found\"}",
                            "default_action.0.fixed_response.0.status_code": "404",
                            "default_action.0.order": "1",
                            "default_action.0.redirect.#": "0",
                            "default_action.0.target_group_arn": "",
                            "default_action.0.type": "fixed-response",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:loadbalancer/app/netlit-load-balancer/045842413b4eb2c5",
                            "port": "443",
                            "protocol": "HTTPS",
                            "ssl_policy": "ELBSecurityPolicy-2016-08"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_security_groups.security_groups": {
                    "type": "aws_security_groups",
                    "depends_on": [],
                    "primary": {
                        "id": "terraform-20190908082952996600000001",
                        "attributes": {
                            "filter.#": "1",
                            "filter.2499112924.name": "group-name",
                            "filter.2499112924.values.#": "1",
                            "filter.2499112924.values.0": "*ecs-tasks*",
                            "id": "terraform-20190908082952996600000001",
                            "ids.#": "1",
                            "ids.0": "sg-0392d6525798aef75",
                            "vpc_ids.#": "1",
                            "vpc_ids.0": "vpc-0eba7e3e845311627"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_sns_topic.credentials_created_topic": {
                    "type": "aws_sns_topic",
                    "depends_on": [],
                    "primary": {
                        "id": "2019-09-08 08:29:53.334044 +0000 UTC",
                        "attributes": {
                            "arn": "arn:aws:sns:us-east-1:478297097809:credentials-created-topic",
                            "id": "2019-09-08 08:29:53.334044 +0000 UTC",
                            "name": "credentials-created-topic"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_sns_topic.credentials_updated_topic": {
                    "type": "aws_sns_topic",
                    "depends_on": [],
                    "primary": {
                        "id": "2019-09-08 08:29:54.569346 +0000 UTC",
                        "attributes": {
                            "arn": "arn:aws:sns:us-east-1:478297097809:credentials-updated-topic",
                            "id": "2019-09-08 08:29:54.569346 +0000 UTC",
                            "name": "credentials-updated-topic"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_sns_topic.credit_card_registration_topic": {
                    "type": "aws_sns_topic",
                    "depends_on": [],
                    "primary": {
                        "id": "2019-09-08 08:29:51.351871 +0000 UTC",
                        "attributes": {
                            "arn": "arn:aws:sns:us-east-1:478297097809:credit-card-registration-topic",
                            "id": "2019-09-08 08:29:51.351871 +0000 UTC",
                            "name": "credit-card-registration-topic"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_sns_topic.sendmail_sns": {
                    "type": "aws_sns_topic",
                    "depends_on": [],
                    "primary": {
                        "id": "2019-09-08 08:29:52.424187 +0000 UTC",
                        "attributes": {
                            "arn": "arn:aws:sns:us-east-1:478297097809:sendmail-sns",
                            "id": "2019-09-08 08:29:52.424187 +0000 UTC",
                            "name": "sendmail-sns"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_sqs_queue.authorization_server_queue": {
                    "type": "aws_sqs_queue",
                    "depends_on": [],
                    "primary": {
                        "id": "https://sqs.us-east-1.amazonaws.com/478297097809/authorization-server-queue",
                        "attributes": {
                            "arn": "arn:aws:sqs:us-east-1:478297097809:authorization-server-queue",
                            "id": "https://sqs.us-east-1.amazonaws.com/478297097809/authorization-server-queue",
                            "name": "authorization-server-queue",
                            "url": "https://sqs.us-east-1.amazonaws.com/478297097809/authorization-server-queue"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_sqs_queue.payments_queue": {
                    "type": "aws_sqs_queue",
                    "depends_on": [],
                    "primary": {
                        "id": "https://sqs.us-east-1.amazonaws.com/478297097809/payments-queue",
                        "attributes": {
                            "arn": "arn:aws:sqs:us-east-1:478297097809:payments-queue",
                            "id": "https://sqs.us-east-1.amazonaws.com/478297097809/payments-queue",
                            "name": "payments-queue",
                            "url": "https://sqs.us-east-1.amazonaws.com/478297097809/payments-queue"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_vpc.main": {
                    "type": "aws_vpc",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-0eba7e3e845311627",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-1:478297097809:vpc/vpc-0eba7e3e845311627",
                            "cidr_block": "172.17.0.0/16",
                            "cidr_block_associations.#": "1",
                            "cidr_block_associations.0.association_id": "vpc-cidr-assoc-04cd25522c3666e87",
                            "cidr_block_associations.0.cidr_block": "172.17.0.0/16",
                            "cidr_block_associations.0.state": "associated",
                            "default": "false",
                            "dhcp_options_id": "dopt-74643f0f",
                            "enable_dns_hostnames": "true",
                            "enable_dns_support": "true",
                            "id": "vpc-0eba7e3e845311627",
                            "instance_tenancy": "default",
                            "main_route_table_id": "rtb-042a6b461c3043328",
                            "owner_id": "478297097809",
                            "state": "available",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "accounts"
            ],
            "outputs": {
                "discovery_dns": {
                    "sensitive": false,
                    "type": "string",
                    "value": "accounts.netlit.local"
                }
            },
            "resources": {
                "aws_alb_target_group.app": {
                    "type": "aws_alb_target_group",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "arn_suffix": "targetgroup/accounts/c10ebc15eba695d3",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.enabled": "true",
                            "health_check.0.healthy_threshold": "3",
                            "health_check.0.interval": "30",
                            "health_check.0.matcher": "200",
                            "health_check.0.path": "/v1/actuator/health",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "3",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "lambda_multi_value_headers_enabled": "false",
                            "name": "accounts",
                            "port": "80",
                            "protocol": "HTTP",
                            "proxy_protocol_v2": "false",
                            "slow_start": "0",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "86400",
                            "stickiness.0.enabled": "false",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "0",
                            "target_type": "ip",
                            "vpc_id": "vpc-0eba7e3e845311627"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_cloudwatch_log_group.application_log_group": {
                    "type": "aws_cloudwatch_log_group",
                    "depends_on": [],
                    "primary": {
                        "id": "/ecs/accounts-app",
                        "attributes": {
                            "arn": "arn:aws:logs:us-east-1:478297097809:log-group:/ecs/accounts-app:*",
                            "id": "/ecs/accounts-app",
                            "kms_key_id": "",
                            "name": "/ecs/accounts-app",
                            "retention_in_days": "30",
                            "tags.%": "1",
                            "tags.Name": "accounts-log-group"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_cloudwatch_log_stream.application_log_stream": {
                    "type": "aws_cloudwatch_log_stream",
                    "depends_on": [
                        "aws_cloudwatch_log_group.application_log_group"
                    ],
                    "primary": {
                        "id": "accounts-log-stream",
                        "attributes": {
                            "arn": "arn:aws:logs:us-east-1:478297097809:log-group:/ecs/accounts-app:log-stream:accounts-log-stream",
                            "id": "accounts-log-stream",
                            "log_group_name": "/ecs/accounts-app",
                            "name": "accounts-log-stream"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_ecs_service.application": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "aws_ecs_task_definition.app",
                        "aws_service_discovery_service.service_discovery",
                        "data.aws_subnet_ids.privates"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-east-1:478297097809:service/accounts",
                        "attributes": {
                            "cluster": "arn:aws:ecs:us-east-1:478297097809:cluster/netlit-cluster",
                            "deployment_controller.#": "1",
                            "deployment_controller.0.type": "ECS",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "1",
                            "enable_ecs_managed_tags": "false",
                            "health_check_grace_period_seconds": "0",
                            "iam_role": "aws-service-role",
                            "id": "arn:aws:ecs:us-east-1:478297097809:service/accounts",
                            "launch_type": "FARGATE",
                            "load_balancer.#": "1",
                            "load_balancer.4182014274.container_name": "accounts-app",
                            "load_balancer.4182014274.container_port": "8080",
                            "load_balancer.4182014274.elb_name": "",
                            "load_balancer.4182014274.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "name": "accounts",
                            "network_configuration.#": "1",
                            "network_configuration.0.assign_public_ip": "true",
                            "network_configuration.0.security_groups.#": "1",
                            "network_configuration.0.security_groups.3992133988": "sg-0392d6525798aef75",
                            "network_configuration.0.subnets.#": "2",
                            "network_configuration.0.subnets.1025118997": "subnet-030b52965c423f7fd",
                            "network_configuration.0.subnets.703858991": "subnet-00bce091aa0368037",
                            "ordered_placement_strategy.#": "0",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "platform_version": "LATEST",
                            "propagate_tags": "NONE",
                            "scheduling_strategy": "REPLICA",
                            "service_registries.#": "1",
                            "service_registries.3446392259.container_name": "",
                            "service_registries.3446392259.container_port": "0",
                            "service_registries.3446392259.port": "8080",
                            "service_registries.3446392259.registry_arn": "arn:aws:servicediscovery:us-east-1:478297097809:service/srv-ey3cixqda2mlrjgg",
                            "tags.%": "0",
                            "task_definition": "arn:aws:ecs:us-east-1:478297097809:task-definition/accounts-app-task:17"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_ecs_task_definition.app": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "data.aws_iam_role.execution_role",
                        "local_file.task_definition"
                    ],
                    "primary": {
                        "id": "accounts-app-task",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-east-1:478297097809:task-definition/accounts-app-task:17",
                            "container_definitions": "[{\"cpu\":512,\"environment\":[{\"name\":\"AUTHORIZATION_SERVER_URI\",\"value\":\"http://authorization-server.netlit.local:8080/v1/oauth/user\"},{\"name\":\"SPRING_DATASOURCE_URL\",\"value\":\"jdbc:mysql://library-1.cluster-cglh2op0opbl.us-east-1.rds.amazonaws.com/payments\"},{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"SPRING_MAIL_PASSWORD\",\"value\":\"MkTEb$a35\"},{\"name\":\"SPRING_DATASOURCE_USERNAME\",\"value\":\"root\"},{\"name\":\"SNS_CREDENTIALS_UPDATED_TOPIC\",\"value\":\"arn:aws:sns:us-east-1:478297097809:credentials-updated-topic\"},{\"name\":\"SNS_CREDIT_CARD_REGISTRATION_TOPIC\",\"value\":\"arn:aws:sns:us-east-1:478297097809:credit-card-registration-topic\"},{\"name\":\"SPRING_MAIL_USERNAME\",\"value\":\"no-reply@editoradobrasil.com.br\"},{\"name\":\"SPRING_DATASOURCE_PASSWORD\",\"value\":\"n371!7_1!8r4ry_d4748453\"},{\"name\":\"AWS_SQS_QUEUE_SENDMAIL\",\"value\":\"https://sqs.us-east-1.amazonaws.com/478297097809/sendmail\"},{\"name\":\"AWS_SNS_TOPIC_SENDMAIL\",\"value\":\"arn:aws:sns:us-east-1:478297097809:sendmail-sns\"},{\"name\":\"AWS_SNS_TOPIC\",\"value\":\"arn:aws:sns:us-east-1:478297097809:credentials-created-topic\"},{\"name\":\"NETLIT_PROTHEUS_URL\",\"value\":\"http://200.201.128.38:18238/netlit/PEDIDOSNETLIT.apw?WSDL\"}],\"essential\":true,\"image\":\"478297097809.dkr.ecr.us-east-1.amazonaws.com/accounts:1.0.3\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"/ecs/accounts-app\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"memory\":1024,\"mountPoints\":[],\"name\":\"accounts-app\",\"portMappings\":[{\"containerPort\":8080,\"hostPort\":8080,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]",
                            "cpu": "512",
                            "execution_role_arn": "arn:aws:iam::478297097809:role/ecsTaskExecutionRole",
                            "family": "accounts-app-task",
                            "id": "accounts-app-task",
                            "memory": "1024",
                            "network_mode": "awsvpc",
                            "placement_constraints.#": "0",
                            "proxy_configuration.#": "0",
                            "requires_compatibilities.#": "1",
                            "requires_compatibilities.3072437307": "FARGATE",
                            "revision": "17",
                            "tags.%": "0",
                            "task_role_arn": "arn:aws:iam::478297097809:role/accounts-role",
                            "volume.#": "0"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.0": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/9fa6cd7b81eea4fe",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/9fa6cd7b81eea4fe",
                            "condition.#": "1",
                            "condition.1414920935.field": "path-pattern",
                            "condition.1414920935.values.#": "1",
                            "condition.1414920935.values.0": "/v1/accounts*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/9fa6cd7b81eea4fe",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "11"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.1": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/8e3fdc19242b41a5",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/8e3fdc19242b41a5",
                            "condition.#": "1",
                            "condition.3973242510.field": "path-pattern",
                            "condition.3973242510.values.#": "1",
                            "condition.3973242510.values.0": "/v1/*-accounts*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/8e3fdc19242b41a5",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "7"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.10": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/b394073e7e4fefb8",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/b394073e7e4fefb8",
                            "condition.#": "1",
                            "condition.1785404103.field": "path-pattern",
                            "condition.1785404103.values.#": "1",
                            "condition.1785404103.values.0": "/v1/webjars/**",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/b394073e7e4fefb8",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "40"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.11": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/0518c44cf2dd6d83",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/0518c44cf2dd6d83",
                            "condition.#": "1",
                            "condition.3465396836.field": "path-pattern",
                            "condition.3465396836.values.#": "1",
                            "condition.3465396836.values.0": "/v1/registration*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/0518c44cf2dd6d83",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "38"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.12": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/f17f348996b8d1d8",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/f17f348996b8d1d8",
                            "condition.#": "1",
                            "condition.2253513067.field": "path-pattern",
                            "condition.2253513067.values.#": "1",
                            "condition.2253513067.values.0": "/v1/orders*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/f17f348996b8d1d8",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "35"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.13": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/588a425030d6afe7",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/588a425030d6afe7",
                            "condition.#": "1",
                            "condition.692990919.field": "path-pattern",
                            "condition.692990919.values.#": "1",
                            "condition.692990919.values.0": "/v1/uploads*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/588a425030d6afe7",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "36"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.14": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/6256262bbd30a6b5",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/6256262bbd30a6b5",
                            "condition.#": "1",
                            "condition.1934336994.field": "path-pattern",
                            "condition.1934336994.values.#": "1",
                            "condition.1934336994.values.0": "/v1/tests",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/6256262bbd30a6b5",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "42"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.15": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/e2d63eca61d97920",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/e2d63eca61d97920",
                            "condition.#": "1",
                            "condition.3530012308.field": "path-pattern",
                            "condition.3530012308.values.#": "1",
                            "condition.3530012308.values.0": "/v1/school-grade-rooms*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/e2d63eca61d97920",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "39"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.2": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/3e692aad9295b68e",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/3e692aad9295b68e",
                            "condition.#": "1",
                            "condition.1850922345.field": "path-pattern",
                            "condition.1850922345.values.#": "1",
                            "condition.1850922345.values.0": "/v1/passwords*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/3e692aad9295b68e",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "2"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.3": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/f6b86cdfe7eec759",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/f6b86cdfe7eec759",
                            "condition.#": "1",
                            "condition.3175182591.field": "path-pattern",
                            "condition.3175182591.values.#": "1",
                            "condition.3175182591.values.0": "/v1/processes/*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/f6b86cdfe7eec759",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "14"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.4": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/5acada980f386e09",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/5acada980f386e09",
                            "condition.#": "1",
                            "condition.3517053776.field": "path-pattern",
                            "condition.3517053776.values.#": "1",
                            "condition.3517053776.values.0": "/v1/v2/api-docs",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/5acada980f386e09",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "34"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.5": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/c4a08d11f876224b",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/c4a08d11f876224b",
                            "condition.#": "1",
                            "condition.3718068507.field": "path-pattern",
                            "condition.3718068507.values.#": "1",
                            "condition.3718068507.values.0": "/v1/csrf",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/c4a08d11f876224b",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "32"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.6": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/02b7dd5efd124e05",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/02b7dd5efd124e05",
                            "condition.#": "1",
                            "condition.129907854.field": "path-pattern",
                            "condition.129907854.values.#": "1",
                            "condition.129907854.values.0": "/v1/configuration/ui",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/02b7dd5efd124e05",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "31"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.7": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/31ef103b0b107b7a",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/31ef103b0b107b7a",
                            "condition.#": "1",
                            "condition.2917022166.field": "path-pattern",
                            "condition.2917022166.values.#": "1",
                            "condition.2917022166.values.0": "/v1/swagger-resources/**",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/31ef103b0b107b7a",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "41"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.8": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/b53845a344f28dcb",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/b53845a344f28dcb",
                            "condition.#": "1",
                            "condition.1911209725.field": "path-pattern",
                            "condition.1911209725.values.#": "1",
                            "condition.1911209725.values.0": "/v1/configuration/security/**",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/b53845a344f28dcb",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "33"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.9": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/959803cdba8f80e2",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/accounts/c10ebc15eba695d3",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/959803cdba8f80e2",
                            "condition.#": "1",
                            "condition.3696708060.field": "path-pattern",
                            "condition.3696708060.values.#": "1",
                            "condition.3696708060.values.0": "/v1/swagger-ui.html",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/959803cdba8f80e2",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "37"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_service_discovery_service.service_discovery": {
                    "type": "aws_service_discovery_service",
                    "depends_on": [],
                    "primary": {
                        "id": "srv-ey3cixqda2mlrjgg",
                        "attributes": {
                            "arn": "arn:aws:servicediscovery:us-east-1:478297097809:service/srv-ey3cixqda2mlrjgg",
                            "description": "",
                            "dns_config.#": "1",
                            "dns_config.0.dns_records.#": "2",
                            "dns_config.0.dns_records.0.ttl": "10",
                            "dns_config.0.dns_records.0.type": "A",
                            "dns_config.0.dns_records.1.ttl": "10",
                            "dns_config.0.dns_records.1.type": "SRV",
                            "dns_config.0.namespace_id": "ns-6slscwx3d5mzixts",
                            "dns_config.0.routing_policy": "MULTIVALUE",
                            "health_check_config.#": "0",
                            "health_check_custom_config.#": "1",
                            "health_check_custom_config.0.failure_threshold": "5",
                            "id": "srv-ey3cixqda2mlrjgg",
                            "name": "accounts",
                            "namespace_id": "ns-6slscwx3d5mzixts"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_alb_listener.listener": {
                    "type": "aws_alb_listener",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "certificate_arn": "arn:aws:acm:us-east-1:478297097809:certificate/1a0cd699-17a7-4f43-8437-5ca7937d31bd",
                            "default_action.#": "1",
                            "default_action.0.authenticate_cognito.#": "0",
                            "default_action.0.authenticate_oidc.#": "0",
                            "default_action.0.fixed_response.#": "1",
                            "default_action.0.fixed_response.0.content_type": "application/json",
                            "default_action.0.fixed_response.0.message_body": "{\"error\":\"Not Found\"}",
                            "default_action.0.fixed_response.0.status_code": "404",
                            "default_action.0.order": "1",
                            "default_action.0.redirect.#": "0",
                            "default_action.0.target_group_arn": "",
                            "default_action.0.type": "fixed-response",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:loadbalancer/app/netlit-load-balancer/045842413b4eb2c5",
                            "port": "443",
                            "protocol": "HTTPS",
                            "ssl_policy": "ELBSecurityPolicy-2016-08"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_role.execution_role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "ecsTaskExecutionRole",
                        "attributes": {
                            "arn": "arn:aws:iam::478297097809:role/ecsTaskExecutionRole",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-04-22T16:16:50Z",
                            "description": "Allows ECS tasks to call AWS services on your behalf.",
                            "id": "ecsTaskExecutionRole",
                            "max_session_duration": "3600",
                            "name": "ecsTaskExecutionRole",
                            "path": "/",
                            "permissions_boundary": "",
                            "unique_id": "AROAW6XF2QZIWO5VYNPUF"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_subnet_ids.privates": {
                    "type": "aws_subnet_ids",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-0eba7e3e845311627",
                        "attributes": {
                            "id": "vpc-0eba7e3e845311627",
                            "ids.#": "2",
                            "ids.1025118997": "subnet-030b52965c423f7fd",
                            "ids.703858991": "subnet-00bce091aa0368037",
                            "tags.%": "1",
                            "tags.Tier": "Private",
                            "vpc_id": "vpc-0eba7e3e845311627"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.template_file.application": {
                    "type": "template_file",
                    "depends_on": [
                        "aws_cloudwatch_log_group.application_log_group"
                    ],
                    "primary": {
                        "id": "a304413e72d4ea82204e26662fecc7d667ca877630666a169f7088e45fc9e6f6",
                        "attributes": {
                            "id": "a304413e72d4ea82204e26662fecc7d667ca877630666a169f7088e45fc9e6f6",
                            "rendered": "[\n  {\n    \"cpu\": 512,\n    \"environment\": [{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"AUTHORIZATION_SERVER_URI\",\"value\":\"http://authorization-server.netlit.local:8080/v1/oauth/user\"},{\"name\":\"AWS_SNS_TOPIC\",\"value\":\"arn:aws:sns:us-east-1:478297097809:credentials-created-topic\"},{\"name\":\"SNS_CREDENTIALS_UPDATED_TOPIC\",\"value\":\"arn:aws:sns:us-east-1:478297097809:credentials-updated-topic\"},{\"name\":\"SPRING_MAIL_USERNAME\",\"value\":\"no-reply@editoradobrasil.com.br\"},{\"name\":\"SPRING_MAIL_PASSWORD\",\"value\":\"MkTEb$a35\"},{\"name\":\"SNS_CREDIT_CARD_REGISTRATION_TOPIC\",\"value\":\"arn:aws:sns:us-east-1:478297097809:credit-card-registration-topic\"},{\"name\":\"SPRING_DATASOURCE_URL\",\"value\":\"jdbc:mysql://library-1.cluster-cglh2op0opbl.us-east-1.rds.amazonaws.com/payments\"},{\"name\":\"SPRING_DATASOURCE_USERNAME\",\"value\":\"root\"},{\"name\":\"SPRING_DATASOURCE_PASSWORD\",\"value\":\"n371!7_1!8r4ry_d4748453\"},{\"name\":\"NETLIT_PROTHEUS_URL\",\"value\":\"http://200.201.128.38:18238/netlit/PEDIDOSNETLIT.apw?WSDL\"},{\"name\":\"AWS_SQS_QUEUE_SENDMAIL\",\"value\":\"https://sqs.us-east-1.amazonaws.com/478297097809/sendmail\"},{\"name\":\"AWS_SNS_TOPIC_SENDMAIL\",\"value\":\"arn:aws:sns:us-east-1:478297097809:sendmail-sns\"}],\n    \"essential\": true,\n    \"image\": \"478297097809.dkr.ecr.us-east-1.amazonaws.com/accounts:1.0.3\",\n    \"logConfiguration\": {\n        \"logDriver\": \"awslogs\",\n        \"options\": {\n          \"awslogs-group\": \"/ecs/accounts-app\",\n          \"awslogs-region\": \"us-east-1\",\n          \"awslogs-stream-prefix\": \"ecs\"\n        }\n    },\n    \"memory\": 1024,\n    \"mountPoints\": [],\n    \"name\": \"accounts-app\",\n    \"portMappings\": [\n      {\n        \"containerPort\": 8080,\n        \"hostPort\": 8080\n      }\n    ],\n    \"networkMode\": \"awsvpc\",\n    \"volumesFrom\": []\n  }\n]\n",
                            "template": "[\n  {\n    \"cpu\": ${fargate_cpu},\n    \"environment\": ${environment_variables},\n    \"essential\": true,\n    \"image\": \"${app_image}\",\n    \"logConfiguration\": {\n        \"logDriver\": \"awslogs\",\n        \"options\": {\n          \"awslogs-group\": \"${log_group_name}\",\n          \"awslogs-region\": \"${aws_region}\",\n          \"awslogs-stream-prefix\": \"ecs\"\n        }\n    },\n    \"memory\": ${fargate_memory},\n    \"mountPoints\": [],\n    \"name\": \"${app_name}\",\n    \"portMappings\": [\n      {\n        \"containerPort\": ${app_port},\n        \"hostPort\": ${app_port}\n      }\n    ],\n    \"networkMode\": \"awsvpc\",\n    \"volumesFrom\": []\n  }\n]\n",
                            "vars.%": "8",
                            "vars.app_image": "478297097809.dkr.ecr.us-east-1.amazonaws.com/accounts:1.0.3",
                            "vars.app_name": "accounts-app",
                            "vars.app_port": "8080",
                            "vars.aws_region": "us-east-1",
                            "vars.environment_variables": "[{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"AUTHORIZATION_SERVER_URI\",\"value\":\"http://authorization-server.netlit.local:8080/v1/oauth/user\"},{\"name\":\"AWS_SNS_TOPIC\",\"value\":\"arn:aws:sns:us-east-1:478297097809:credentials-created-topic\"},{\"name\":\"SNS_CREDENTIALS_UPDATED_TOPIC\",\"value\":\"arn:aws:sns:us-east-1:478297097809:credentials-updated-topic\"},{\"name\":\"SPRING_MAIL_USERNAME\",\"value\":\"no-reply@editoradobrasil.com.br\"},{\"name\":\"SPRING_MAIL_PASSWORD\",\"value\":\"MkTEb$a35\"},{\"name\":\"SNS_CREDIT_CARD_REGISTRATION_TOPIC\",\"value\":\"arn:aws:sns:us-east-1:478297097809:credit-card-registration-topic\"},{\"name\":\"SPRING_DATASOURCE_URL\",\"value\":\"jdbc:mysql://library-1.cluster-cglh2op0opbl.us-east-1.rds.amazonaws.com/payments\"},{\"name\":\"SPRING_DATASOURCE_USERNAME\",\"value\":\"root\"},{\"name\":\"SPRING_DATASOURCE_PASSWORD\",\"value\":\"n371!7_1!8r4ry_d4748453\"},{\"name\":\"NETLIT_PROTHEUS_URL\",\"value\":\"http://200.201.128.38:18238/netlit/PEDIDOSNETLIT.apw?WSDL\"},{\"name\":\"AWS_SQS_QUEUE_SENDMAIL\",\"value\":\"https://sqs.us-east-1.amazonaws.com/478297097809/sendmail\"},{\"name\":\"AWS_SNS_TOPIC_SENDMAIL\",\"value\":\"arn:aws:sns:us-east-1:478297097809:sendmail-sns\"}]",
                            "vars.fargate_cpu": "512",
                            "vars.fargate_memory": "1024",
                            "vars.log_group_name": "/ecs/accounts-app"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "local_file.task_definition": {
                    "type": "local_file",
                    "depends_on": [
                        "data.template_file.application"
                    ],
                    "primary": {
                        "id": "63f5d5399d1b2f862a90276d4e5962443091af9a",
                        "attributes": {
                            "content": "[\n  {\n    \"cpu\": 512,\n    \"environment\": [{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"AUTHORIZATION_SERVER_URI\",\"value\":\"http://authorization-server.netlit.local:8080/v1/oauth/user\"},{\"name\":\"AWS_SNS_TOPIC\",\"value\":\"arn:aws:sns:us-east-1:478297097809:credentials-created-topic\"},{\"name\":\"SNS_CREDENTIALS_UPDATED_TOPIC\",\"value\":\"arn:aws:sns:us-east-1:478297097809:credentials-updated-topic\"},{\"name\":\"SPRING_MAIL_USERNAME\",\"value\":\"no-reply@editoradobrasil.com.br\"},{\"name\":\"SPRING_MAIL_PASSWORD\",\"value\":\"MkTEb$a35\"},{\"name\":\"SNS_CREDIT_CARD_REGISTRATION_TOPIC\",\"value\":\"arn:aws:sns:us-east-1:478297097809:credit-card-registration-topic\"},{\"name\":\"SPRING_DATASOURCE_URL\",\"value\":\"jdbc:mysql://library-1.cluster-cglh2op0opbl.us-east-1.rds.amazonaws.com/payments\"},{\"name\":\"SPRING_DATASOURCE_USERNAME\",\"value\":\"root\"},{\"name\":\"SPRING_DATASOURCE_PASSWORD\",\"value\":\"n371!7_1!8r4ry_d4748453\"},{\"name\":\"NETLIT_PROTHEUS_URL\",\"value\":\"http://200.201.128.38:18238/netlit/PEDIDOSNETLIT.apw?WSDL\"},{\"name\":\"AWS_SQS_QUEUE_SENDMAIL\",\"value\":\"https://sqs.us-east-1.amazonaws.com/478297097809/sendmail\"},{\"name\":\"AWS_SNS_TOPIC_SENDMAIL\",\"value\":\"arn:aws:sns:us-east-1:478297097809:sendmail-sns\"}],\n    \"essential\": true,\n    \"image\": \"478297097809.dkr.ecr.us-east-1.amazonaws.com/accounts:1.0.3\",\n    \"logConfiguration\": {\n        \"logDriver\": \"awslogs\",\n        \"options\": {\n          \"awslogs-group\": \"/ecs/accounts-app\",\n          \"awslogs-region\": \"us-east-1\",\n          \"awslogs-stream-prefix\": \"ecs\"\n        }\n    },\n    \"memory\": 1024,\n    \"mountPoints\": [],\n    \"name\": \"accounts-app\",\n    \"portMappings\": [\n      {\n        \"containerPort\": 8080,\n        \"hostPort\": 8080\n      }\n    ],\n    \"networkMode\": \"awsvpc\",\n    \"volumesFrom\": []\n  }\n]\n",
                            "filename": "/Users/giscard/IdeaProjects/infrastructure/prd/container-cluster/accounts-task-definition.json",
                            "id": "63f5d5399d1b2f862a90276d4e5962443091af9a"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.local"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "authorization_server"
            ],
            "outputs": {
                "discovery_dns": {
                    "sensitive": false,
                    "type": "string",
                    "value": "authorization-server.netlit.local"
                }
            },
            "resources": {
                "aws_alb_target_group.app": {
                    "type": "aws_alb_target_group",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/authorization-server/30b37f797f314773",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/authorization-server/30b37f797f314773",
                            "arn_suffix": "targetgroup/authorization-server/30b37f797f314773",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.enabled": "true",
                            "health_check.0.healthy_threshold": "3",
                            "health_check.0.interval": "30",
                            "health_check.0.matcher": "200",
                            "health_check.0.path": "/v1/actuator/health",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "3",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/authorization-server/30b37f797f314773",
                            "lambda_multi_value_headers_enabled": "false",
                            "name": "authorization-server",
                            "port": "80",
                            "protocol": "HTTP",
                            "proxy_protocol_v2": "false",
                            "slow_start": "0",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "86400",
                            "stickiness.0.enabled": "false",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "0",
                            "target_type": "ip",
                            "vpc_id": "vpc-0eba7e3e845311627"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_cloudwatch_log_group.application_log_group": {
                    "type": "aws_cloudwatch_log_group",
                    "depends_on": [],
                    "primary": {
                        "id": "/ecs/authorization-server-app",
                        "attributes": {
                            "arn": "arn:aws:logs:us-east-1:478297097809:log-group:/ecs/authorization-server-app:*",
                            "id": "/ecs/authorization-server-app",
                            "kms_key_id": "",
                            "name": "/ecs/authorization-server-app",
                            "retention_in_days": "30",
                            "tags.%": "1",
                            "tags.Name": "authorization-server-log-group"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_cloudwatch_log_stream.application_log_stream": {
                    "type": "aws_cloudwatch_log_stream",
                    "depends_on": [
                        "aws_cloudwatch_log_group.application_log_group"
                    ],
                    "primary": {
                        "id": "authorization-server-log-stream",
                        "attributes": {
                            "arn": "arn:aws:logs:us-east-1:478297097809:log-group:/ecs/authorization-server-app:log-stream:authorization-server-log-stream",
                            "id": "authorization-server-log-stream",
                            "log_group_name": "/ecs/authorization-server-app",
                            "name": "authorization-server-log-stream"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_ecs_service.application": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "aws_ecs_task_definition.app",
                        "aws_service_discovery_service.service_discovery",
                        "data.aws_subnet_ids.privates"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-east-1:478297097809:service/authorization-server",
                        "attributes": {
                            "cluster": "arn:aws:ecs:us-east-1:478297097809:cluster/netlit-cluster",
                            "deployment_controller.#": "1",
                            "deployment_controller.0.type": "ECS",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "1",
                            "enable_ecs_managed_tags": "false",
                            "health_check_grace_period_seconds": "0",
                            "iam_role": "aws-service-role",
                            "id": "arn:aws:ecs:us-east-1:478297097809:service/authorization-server",
                            "launch_type": "FARGATE",
                            "load_balancer.#": "1",
                            "load_balancer.3182350346.container_name": "authorization-server-app",
                            "load_balancer.3182350346.container_port": "8080",
                            "load_balancer.3182350346.elb_name": "",
                            "load_balancer.3182350346.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/authorization-server/30b37f797f314773",
                            "name": "authorization-server",
                            "network_configuration.#": "1",
                            "network_configuration.0.assign_public_ip": "true",
                            "network_configuration.0.security_groups.#": "1",
                            "network_configuration.0.security_groups.3992133988": "sg-0392d6525798aef75",
                            "network_configuration.0.subnets.#": "2",
                            "network_configuration.0.subnets.1025118997": "subnet-030b52965c423f7fd",
                            "network_configuration.0.subnets.703858991": "subnet-00bce091aa0368037",
                            "ordered_placement_strategy.#": "0",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "platform_version": "LATEST",
                            "propagate_tags": "NONE",
                            "scheduling_strategy": "REPLICA",
                            "service_registries.#": "1",
                            "service_registries.887334786.container_name": "",
                            "service_registries.887334786.container_port": "0",
                            "service_registries.887334786.port": "8080",
                            "service_registries.887334786.registry_arn": "arn:aws:servicediscovery:us-east-1:478297097809:service/srv-vpol3moduuhrt2n4",
                            "tags.%": "0",
                            "task_definition": "arn:aws:ecs:us-east-1:478297097809:task-definition/authorization-server-app-task:9"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_ecs_task_definition.app": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "data.aws_iam_role.execution_role",
                        "local_file.task_definition"
                    ],
                    "primary": {
                        "id": "authorization-server-app-task",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-east-1:478297097809:task-definition/authorization-server-app-task:9",
                            "container_definitions": "[{\"cpu\":512,\"environment\":[{\"name\":\"AWS_SQS_QUEUE\",\"value\":\"https://sqs.us-east-1.amazonaws.com/478297097809/authorization-server-queue\"},{\"name\":\"AWS_ACCESS_KEY_ID\",\"value\":\"AKIAW6XF2QZI56OHM2MH\"},{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"AWS_SECRET_ACCESS_KEY\",\"value\":\"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\"}],\"essential\":true,\"image\":\"478297097809.dkr.ecr.us-east-1.amazonaws.com/authorization-server:1.0.1\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"/ecs/authorization-server-app\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"memory\":1024,\"mountPoints\":[],\"name\":\"authorization-server-app\",\"portMappings\":[{\"containerPort\":8080,\"hostPort\":8080,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]",
                            "cpu": "512",
                            "execution_role_arn": "arn:aws:iam::478297097809:role/ecsTaskExecutionRole",
                            "family": "authorization-server-app-task",
                            "id": "authorization-server-app-task",
                            "memory": "1024",
                            "network_mode": "awsvpc",
                            "placement_constraints.#": "0",
                            "proxy_configuration.#": "0",
                            "requires_compatibilities.#": "1",
                            "requires_compatibilities.3072437307": "FARGATE",
                            "revision": "9",
                            "tags.%": "0",
                            "task_role_arn": "arn:aws:iam::478297097809:role/authorization-server-prd-role",
                            "volume.#": "0"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/c224a5ceb4cdada1",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/authorization-server/30b37f797f314773",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/c224a5ceb4cdada1",
                            "condition.#": "1",
                            "condition.1024080423.field": "path-pattern",
                            "condition.1024080423.values.#": "1",
                            "condition.1024080423.values.0": "/v1/oauth/*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/c224a5ceb4cdada1",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_service_discovery_service.service_discovery": {
                    "type": "aws_service_discovery_service",
                    "depends_on": [],
                    "primary": {
                        "id": "srv-vpol3moduuhrt2n4",
                        "attributes": {
                            "arn": "arn:aws:servicediscovery:us-east-1:478297097809:service/srv-vpol3moduuhrt2n4",
                            "description": "",
                            "dns_config.#": "1",
                            "dns_config.0.dns_records.#": "2",
                            "dns_config.0.dns_records.0.ttl": "10",
                            "dns_config.0.dns_records.0.type": "A",
                            "dns_config.0.dns_records.1.ttl": "10",
                            "dns_config.0.dns_records.1.type": "SRV",
                            "dns_config.0.namespace_id": "ns-6slscwx3d5mzixts",
                            "dns_config.0.routing_policy": "MULTIVALUE",
                            "health_check_config.#": "0",
                            "health_check_custom_config.#": "1",
                            "health_check_custom_config.0.failure_threshold": "5",
                            "id": "srv-vpol3moduuhrt2n4",
                            "name": "authorization-server",
                            "namespace_id": "ns-6slscwx3d5mzixts"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_alb_listener.listener": {
                    "type": "aws_alb_listener",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "certificate_arn": "arn:aws:acm:us-east-1:478297097809:certificate/1a0cd699-17a7-4f43-8437-5ca7937d31bd",
                            "default_action.#": "1",
                            "default_action.0.authenticate_cognito.#": "0",
                            "default_action.0.authenticate_oidc.#": "0",
                            "default_action.0.fixed_response.#": "1",
                            "default_action.0.fixed_response.0.content_type": "application/json",
                            "default_action.0.fixed_response.0.message_body": "{\"error\":\"Not Found\"}",
                            "default_action.0.fixed_response.0.status_code": "404",
                            "default_action.0.order": "1",
                            "default_action.0.redirect.#": "0",
                            "default_action.0.target_group_arn": "",
                            "default_action.0.type": "fixed-response",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:loadbalancer/app/netlit-load-balancer/045842413b4eb2c5",
                            "port": "443",
                            "protocol": "HTTPS",
                            "ssl_policy": "ELBSecurityPolicy-2016-08"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_role.execution_role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "ecsTaskExecutionRole",
                        "attributes": {
                            "arn": "arn:aws:iam::478297097809:role/ecsTaskExecutionRole",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-04-22T16:16:50Z",
                            "description": "Allows ECS tasks to call AWS services on your behalf.",
                            "id": "ecsTaskExecutionRole",
                            "max_session_duration": "3600",
                            "name": "ecsTaskExecutionRole",
                            "path": "/",
                            "permissions_boundary": "",
                            "unique_id": "AROAW6XF2QZIWO5VYNPUF"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_subnet_ids.privates": {
                    "type": "aws_subnet_ids",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-0eba7e3e845311627",
                        "attributes": {
                            "id": "vpc-0eba7e3e845311627",
                            "ids.#": "2",
                            "ids.1025118997": "subnet-030b52965c423f7fd",
                            "ids.703858991": "subnet-00bce091aa0368037",
                            "tags.%": "1",
                            "tags.Tier": "Private",
                            "vpc_id": "vpc-0eba7e3e845311627"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.template_file.application": {
                    "type": "template_file",
                    "depends_on": [
                        "aws_cloudwatch_log_group.application_log_group"
                    ],
                    "primary": {
                        "id": "9d8338d02473d23054972edbe047ff6fc3ab33878e2cd7539a8cff774ab6b95e",
                        "attributes": {
                            "id": "9d8338d02473d23054972edbe047ff6fc3ab33878e2cd7539a8cff774ab6b95e",
                            "rendered": "[\n  {\n    \"cpu\": 512,\n    \"environment\": [{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"AWS_SQS_QUEUE\",\"value\":\"https://sqs.us-east-1.amazonaws.com/478297097809/authorization-server-queue\"},{\"name\":\"AWS_ACCESS_KEY_ID\",\"value\":\"AKIAW6XF2QZI56OHM2MH\"},{\"name\":\"AWS_SECRET_ACCESS_KEY\",\"value\":\"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\"}],\n    \"essential\": true,\n    \"image\": \"478297097809.dkr.ecr.us-east-1.amazonaws.com/authorization-server:1.0.1\",\n    \"logConfiguration\": {\n        \"logDriver\": \"awslogs\",\n        \"options\": {\n          \"awslogs-group\": \"/ecs/authorization-server-app\",\n          \"awslogs-region\": \"us-east-1\",\n          \"awslogs-stream-prefix\": \"ecs\"\n        }\n    },\n    \"memory\": 1024,\n    \"mountPoints\": [],\n    \"name\": \"authorization-server-app\",\n    \"portMappings\": [\n      {\n        \"containerPort\": 8080,\n        \"hostPort\": 8080\n      }\n    ],\n    \"networkMode\": \"awsvpc\",\n    \"volumesFrom\": []\n  }\n]\n",
                            "template": "[\n  {\n    \"cpu\": ${fargate_cpu},\n    \"environment\": ${environment_variables},\n    \"essential\": true,\n    \"image\": \"${app_image}\",\n    \"logConfiguration\": {\n        \"logDriver\": \"awslogs\",\n        \"options\": {\n          \"awslogs-group\": \"${log_group_name}\",\n          \"awslogs-region\": \"${aws_region}\",\n          \"awslogs-stream-prefix\": \"ecs\"\n        }\n    },\n    \"memory\": ${fargate_memory},\n    \"mountPoints\": [],\n    \"name\": \"${app_name}\",\n    \"portMappings\": [\n      {\n        \"containerPort\": ${app_port},\n        \"hostPort\": ${app_port}\n      }\n    ],\n    \"networkMode\": \"awsvpc\",\n    \"volumesFrom\": []\n  }\n]\n",
                            "vars.%": "8",
                            "vars.app_image": "478297097809.dkr.ecr.us-east-1.amazonaws.com/authorization-server:1.0.1",
                            "vars.app_name": "authorization-server-app",
                            "vars.app_port": "8080",
                            "vars.aws_region": "us-east-1",
                            "vars.environment_variables": "[{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"AWS_SQS_QUEUE\",\"value\":\"https://sqs.us-east-1.amazonaws.com/478297097809/authorization-server-queue\"},{\"name\":\"AWS_ACCESS_KEY_ID\",\"value\":\"AKIAW6XF2QZI56OHM2MH\"},{\"name\":\"AWS_SECRET_ACCESS_KEY\",\"value\":\"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\"}]",
                            "vars.fargate_cpu": "512",
                            "vars.fargate_memory": "1024",
                            "vars.log_group_name": "/ecs/authorization-server-app"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "local_file.task_definition": {
                    "type": "local_file",
                    "depends_on": [
                        "data.template_file.application"
                    ],
                    "primary": {
                        "id": "de4f2f27bcf71a70a929180c9d941042d4bee750",
                        "attributes": {
                            "content": "[\n  {\n    \"cpu\": 512,\n    \"environment\": [{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"AWS_SQS_QUEUE\",\"value\":\"https://sqs.us-east-1.amazonaws.com/478297097809/authorization-server-queue\"},{\"name\":\"AWS_ACCESS_KEY_ID\",\"value\":\"AKIAW6XF2QZI56OHM2MH\"},{\"name\":\"AWS_SECRET_ACCESS_KEY\",\"value\":\"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\"}],\n    \"essential\": true,\n    \"image\": \"478297097809.dkr.ecr.us-east-1.amazonaws.com/authorization-server:1.0.1\",\n    \"logConfiguration\": {\n        \"logDriver\": \"awslogs\",\n        \"options\": {\n          \"awslogs-group\": \"/ecs/authorization-server-app\",\n          \"awslogs-region\": \"us-east-1\",\n          \"awslogs-stream-prefix\": \"ecs\"\n        }\n    },\n    \"memory\": 1024,\n    \"mountPoints\": [],\n    \"name\": \"authorization-server-app\",\n    \"portMappings\": [\n      {\n        \"containerPort\": 8080,\n        \"hostPort\": 8080\n      }\n    ],\n    \"networkMode\": \"awsvpc\",\n    \"volumesFrom\": []\n  }\n]\n",
                            "filename": "/Users/giscard/IdeaProjects/infrastructure/prd/container-cluster/authorization-server-task-definition.json",
                            "id": "de4f2f27bcf71a70a929180c9d941042d4bee750"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.local"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "customer_service"
            ],
            "outputs": {
                "discovery_dns": {
                    "sensitive": false,
                    "type": "string",
                    "value": "customer-service.netlit.local"
                }
            },
            "resources": {
                "aws_alb_target_group.app": {
                    "type": "aws_alb_target_group",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/customer-service/c5b97508b8ad8e74",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/customer-service/c5b97508b8ad8e74",
                            "arn_suffix": "targetgroup/customer-service/c5b97508b8ad8e74",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.enabled": "true",
                            "health_check.0.healthy_threshold": "3",
                            "health_check.0.interval": "30",
                            "health_check.0.matcher": "200",
                            "health_check.0.path": "/v1/actuator/health",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "3",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/customer-service/c5b97508b8ad8e74",
                            "lambda_multi_value_headers_enabled": "false",
                            "name": "customer-service",
                            "port": "80",
                            "protocol": "HTTP",
                            "proxy_protocol_v2": "false",
                            "slow_start": "0",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "86400",
                            "stickiness.0.enabled": "false",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "0",
                            "target_type": "ip",
                            "vpc_id": "vpc-0eba7e3e845311627"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_cloudwatch_log_group.application_log_group": {
                    "type": "aws_cloudwatch_log_group",
                    "depends_on": [],
                    "primary": {
                        "id": "/ecs/customer-service-app",
                        "attributes": {
                            "arn": "arn:aws:logs:us-east-1:478297097809:log-group:/ecs/customer-service-app:*",
                            "id": "/ecs/customer-service-app",
                            "kms_key_id": "",
                            "name": "/ecs/customer-service-app",
                            "retention_in_days": "30",
                            "tags.%": "1",
                            "tags.Name": "customer-service-log-group"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_cloudwatch_log_stream.application_log_stream": {
                    "type": "aws_cloudwatch_log_stream",
                    "depends_on": [
                        "aws_cloudwatch_log_group.application_log_group"
                    ],
                    "primary": {
                        "id": "customer-service-log-stream",
                        "attributes": {
                            "arn": "arn:aws:logs:us-east-1:478297097809:log-group:/ecs/customer-service-app:log-stream:customer-service-log-stream",
                            "id": "customer-service-log-stream",
                            "log_group_name": "/ecs/customer-service-app",
                            "name": "customer-service-log-stream"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_ecs_service.application": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "aws_ecs_task_definition.app",
                        "aws_service_discovery_service.service_discovery",
                        "data.aws_subnet_ids.privates"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-east-1:478297097809:service/customer-service",
                        "attributes": {
                            "cluster": "arn:aws:ecs:us-east-1:478297097809:cluster/netlit-cluster",
                            "deployment_controller.#": "1",
                            "deployment_controller.0.type": "ECS",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "1",
                            "enable_ecs_managed_tags": "false",
                            "health_check_grace_period_seconds": "0",
                            "iam_role": "aws-service-role",
                            "id": "arn:aws:ecs:us-east-1:478297097809:service/customer-service",
                            "launch_type": "FARGATE",
                            "load_balancer.#": "1",
                            "load_balancer.3682674540.container_name": "customer-service-app",
                            "load_balancer.3682674540.container_port": "8080",
                            "load_balancer.3682674540.elb_name": "",
                            "load_balancer.3682674540.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/customer-service/c5b97508b8ad8e74",
                            "name": "customer-service",
                            "network_configuration.#": "1",
                            "network_configuration.0.assign_public_ip": "true",
                            "network_configuration.0.security_groups.#": "1",
                            "network_configuration.0.security_groups.3992133988": "sg-0392d6525798aef75",
                            "network_configuration.0.subnets.#": "2",
                            "network_configuration.0.subnets.1025118997": "subnet-030b52965c423f7fd",
                            "network_configuration.0.subnets.703858991": "subnet-00bce091aa0368037",
                            "ordered_placement_strategy.#": "0",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "platform_version": "LATEST",
                            "propagate_tags": "NONE",
                            "scheduling_strategy": "REPLICA",
                            "service_registries.#": "1",
                            "service_registries.2339264086.container_name": "",
                            "service_registries.2339264086.container_port": "0",
                            "service_registries.2339264086.port": "8080",
                            "service_registries.2339264086.registry_arn": "arn:aws:servicediscovery:us-east-1:478297097809:service/srv-m5lojotuot3grp7o",
                            "tags.%": "0",
                            "task_definition": "arn:aws:ecs:us-east-1:478297097809:task-definition/customer-service-app-task:5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_ecs_task_definition.app": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "data.aws_iam_role.execution_role",
                        "local_file.task_definition"
                    ],
                    "primary": {
                        "id": "customer-service-app-task",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-east-1:478297097809:task-definition/customer-service-app-task:5",
                            "container_definitions": "[{\"cpu\":512,\"environment\":[{\"name\":\"EMAIL_TO\",\"value\":\"atendimento@editoradobrasil.com.br\"},{\"name\":\"EMAIL_SALES1_TO\",\"value\":\"caren.francine@editoradobrasil.com.br\"},{\"name\":\"EMAIL_SALES2_TO\",\"value\":\"helena.leitao@editoradobrasil.com.br\"},{\"name\":\"EMAIL\",\"value\":\"no-reply@editoradobrasil.com.br\"},{\"name\":\"PASSWORD\",\"value\":\"MkTEb$a35\"}],\"essential\":true,\"image\":\"478297097809.dkr.ecr.us-east-1.amazonaws.com/customer-service:1.0.1\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"/ecs/customer-service-app\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"memory\":1024,\"mountPoints\":[],\"name\":\"customer-service-app\",\"portMappings\":[{\"containerPort\":8080,\"hostPort\":8080,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]",
                            "cpu": "512",
                            "execution_role_arn": "arn:aws:iam::478297097809:role/ecsTaskExecutionRole",
                            "family": "customer-service-app-task",
                            "id": "customer-service-app-task",
                            "memory": "1024",
                            "network_mode": "awsvpc",
                            "placement_constraints.#": "0",
                            "proxy_configuration.#": "0",
                            "requires_compatibilities.#": "1",
                            "requires_compatibilities.3072437307": "FARGATE",
                            "revision": "5",
                            "tags.%": "0",
                            "task_role_arn": "arn:aws:iam::478297097809:role/customer-service-role",
                            "volume.#": "0"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.0": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/1a3cebb9af463063",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/customer-service/c5b97508b8ad8e74",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/1a3cebb9af463063",
                            "condition.#": "1",
                            "condition.3143705360.field": "path-pattern",
                            "condition.3143705360.values.#": "1",
                            "condition.3143705360.values.0": "/v1/contact-us*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/1a3cebb9af463063",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "12"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.1": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/a958fa15f70596ee",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/customer-service/c5b97508b8ad8e74",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/a958fa15f70596ee",
                            "condition.#": "1",
                            "condition.3302702335.field": "path-pattern",
                            "condition.3302702335.values.#": "1",
                            "condition.3302702335.values.0": "/v1/email-sales*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/a958fa15f70596ee",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "6"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.2": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/ed135c97a355e46e",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/customer-service/c5b97508b8ad8e74",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/ed135c97a355e46e",
                            "condition.#": "1",
                            "condition.3244162292.field": "path-pattern",
                            "condition.3244162292.values.#": "1",
                            "condition.3244162292.values.0": "/v1/school-city*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/ed135c97a355e46e",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "8"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_service_discovery_service.service_discovery": {
                    "type": "aws_service_discovery_service",
                    "depends_on": [],
                    "primary": {
                        "id": "srv-m5lojotuot3grp7o",
                        "attributes": {
                            "arn": "arn:aws:servicediscovery:us-east-1:478297097809:service/srv-m5lojotuot3grp7o",
                            "description": "",
                            "dns_config.#": "1",
                            "dns_config.0.dns_records.#": "2",
                            "dns_config.0.dns_records.0.ttl": "10",
                            "dns_config.0.dns_records.0.type": "A",
                            "dns_config.0.dns_records.1.ttl": "10",
                            "dns_config.0.dns_records.1.type": "SRV",
                            "dns_config.0.namespace_id": "ns-6slscwx3d5mzixts",
                            "dns_config.0.routing_policy": "MULTIVALUE",
                            "health_check_config.#": "0",
                            "health_check_custom_config.#": "1",
                            "health_check_custom_config.0.failure_threshold": "5",
                            "id": "srv-m5lojotuot3grp7o",
                            "name": "customer-service",
                            "namespace_id": "ns-6slscwx3d5mzixts"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_alb_listener.listener": {
                    "type": "aws_alb_listener",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "certificate_arn": "arn:aws:acm:us-east-1:478297097809:certificate/1a0cd699-17a7-4f43-8437-5ca7937d31bd",
                            "default_action.#": "1",
                            "default_action.0.authenticate_cognito.#": "0",
                            "default_action.0.authenticate_oidc.#": "0",
                            "default_action.0.fixed_response.#": "1",
                            "default_action.0.fixed_response.0.content_type": "application/json",
                            "default_action.0.fixed_response.0.message_body": "{\"error\":\"Not Found\"}",
                            "default_action.0.fixed_response.0.status_code": "404",
                            "default_action.0.order": "1",
                            "default_action.0.redirect.#": "0",
                            "default_action.0.target_group_arn": "",
                            "default_action.0.type": "fixed-response",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:loadbalancer/app/netlit-load-balancer/045842413b4eb2c5",
                            "port": "443",
                            "protocol": "HTTPS",
                            "ssl_policy": "ELBSecurityPolicy-2016-08"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_role.execution_role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "ecsTaskExecutionRole",
                        "attributes": {
                            "arn": "arn:aws:iam::478297097809:role/ecsTaskExecutionRole",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-04-22T16:16:50Z",
                            "description": "Allows ECS tasks to call AWS services on your behalf.",
                            "id": "ecsTaskExecutionRole",
                            "max_session_duration": "3600",
                            "name": "ecsTaskExecutionRole",
                            "path": "/",
                            "permissions_boundary": "",
                            "unique_id": "AROAW6XF2QZIWO5VYNPUF"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_subnet_ids.privates": {
                    "type": "aws_subnet_ids",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-0eba7e3e845311627",
                        "attributes": {
                            "id": "vpc-0eba7e3e845311627",
                            "ids.#": "2",
                            "ids.1025118997": "subnet-030b52965c423f7fd",
                            "ids.703858991": "subnet-00bce091aa0368037",
                            "tags.%": "1",
                            "tags.Tier": "Private",
                            "vpc_id": "vpc-0eba7e3e845311627"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.template_file.application": {
                    "type": "template_file",
                    "depends_on": [
                        "aws_cloudwatch_log_group.application_log_group"
                    ],
                    "primary": {
                        "id": "25bc634b71653aefbded5cd1cbdff425a261c420b43329215a41a97c98fe111f",
                        "attributes": {
                            "id": "25bc634b71653aefbded5cd1cbdff425a261c420b43329215a41a97c98fe111f",
                            "rendered": "[\n  {\n    \"cpu\": 512,\n    \"environment\": [{\"name\":\"EMAIL\",\"value\":\"no-reply@editoradobrasil.com.br\"},{\"name\":\"PASSWORD\",\"value\":\"MkTEb$a35\"},{\"name\":\"EMAIL_TO\",\"value\":\"atendimento@editoradobrasil.com.br\"},{\"name\":\"EMAIL_SALES1_TO\",\"value\":\"caren.francine@editoradobrasil.com.br\"},{\"name\":\"EMAIL_SALES2_TO\",\"value\":\"helena.leitao@editoradobrasil.com.br\"}],\n    \"essential\": true,\n    \"image\": \"478297097809.dkr.ecr.us-east-1.amazonaws.com/customer-service:1.0.1\",\n    \"logConfiguration\": {\n        \"logDriver\": \"awslogs\",\n        \"options\": {\n          \"awslogs-group\": \"/ecs/customer-service-app\",\n          \"awslogs-region\": \"us-east-1\",\n          \"awslogs-stream-prefix\": \"ecs\"\n        }\n    },\n    \"memory\": 1024,\n    \"mountPoints\": [],\n    \"name\": \"customer-service-app\",\n    \"portMappings\": [\n      {\n        \"containerPort\": 8080,\n        \"hostPort\": 8080\n      }\n    ],\n    \"networkMode\": \"awsvpc\",\n    \"volumesFrom\": []\n  }\n]\n",
                            "template": "[\n  {\n    \"cpu\": ${fargate_cpu},\n    \"environment\": ${environment_variables},\n    \"essential\": true,\n    \"image\": \"${app_image}\",\n    \"logConfiguration\": {\n        \"logDriver\": \"awslogs\",\n        \"options\": {\n          \"awslogs-group\": \"${log_group_name}\",\n          \"awslogs-region\": \"${aws_region}\",\n          \"awslogs-stream-prefix\": \"ecs\"\n        }\n    },\n    \"memory\": ${fargate_memory},\n    \"mountPoints\": [],\n    \"name\": \"${app_name}\",\n    \"portMappings\": [\n      {\n        \"containerPort\": ${app_port},\n        \"hostPort\": ${app_port}\n      }\n    ],\n    \"networkMode\": \"awsvpc\",\n    \"volumesFrom\": []\n  }\n]\n",
                            "vars.%": "8",
                            "vars.app_image": "478297097809.dkr.ecr.us-east-1.amazonaws.com/customer-service:1.0.1",
                            "vars.app_name": "customer-service-app",
                            "vars.app_port": "8080",
                            "vars.aws_region": "us-east-1",
                            "vars.environment_variables": "[{\"name\":\"EMAIL\",\"value\":\"no-reply@editoradobrasil.com.br\"},{\"name\":\"PASSWORD\",\"value\":\"MkTEb$a35\"},{\"name\":\"EMAIL_TO\",\"value\":\"atendimento@editoradobrasil.com.br\"},{\"name\":\"EMAIL_SALES1_TO\",\"value\":\"caren.francine@editoradobrasil.com.br\"},{\"name\":\"EMAIL_SALES2_TO\",\"value\":\"helena.leitao@editoradobrasil.com.br\"}]",
                            "vars.fargate_cpu": "512",
                            "vars.fargate_memory": "1024",
                            "vars.log_group_name": "/ecs/customer-service-app"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "local_file.task_definition": {
                    "type": "local_file",
                    "depends_on": [
                        "data.template_file.application"
                    ],
                    "primary": {
                        "id": "2ba875bf64c5ca7f495b6e5666dcda6074080560",
                        "attributes": {
                            "content": "[\n  {\n    \"cpu\": 512,\n    \"environment\": [{\"name\":\"EMAIL\",\"value\":\"no-reply@editoradobrasil.com.br\"},{\"name\":\"PASSWORD\",\"value\":\"MkTEb$a35\"},{\"name\":\"EMAIL_TO\",\"value\":\"atendimento@editoradobrasil.com.br\"},{\"name\":\"EMAIL_SALES1_TO\",\"value\":\"caren.francine@editoradobrasil.com.br\"},{\"name\":\"EMAIL_SALES2_TO\",\"value\":\"helena.leitao@editoradobrasil.com.br\"}],\n    \"essential\": true,\n    \"image\": \"478297097809.dkr.ecr.us-east-1.amazonaws.com/customer-service:1.0.1\",\n    \"logConfiguration\": {\n        \"logDriver\": \"awslogs\",\n        \"options\": {\n          \"awslogs-group\": \"/ecs/customer-service-app\",\n          \"awslogs-region\": \"us-east-1\",\n          \"awslogs-stream-prefix\": \"ecs\"\n        }\n    },\n    \"memory\": 1024,\n    \"mountPoints\": [],\n    \"name\": \"customer-service-app\",\n    \"portMappings\": [\n      {\n        \"containerPort\": 8080,\n        \"hostPort\": 8080\n      }\n    ],\n    \"networkMode\": \"awsvpc\",\n    \"volumesFrom\": []\n  }\n]\n",
                            "filename": "/Users/giscard/IdeaProjects/infrastructure/prd/container-cluster/customer-service-task-definition.json",
                            "id": "2ba875bf64c5ca7f495b6e5666dcda6074080560"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.local"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "library"
            ],
            "outputs": {
                "discovery_dns": {
                    "sensitive": false,
                    "type": "string",
                    "value": "library.netlit.local"
                }
            },
            "resources": {
                "aws_alb_target_group.app": {
                    "type": "aws_alb_target_group",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/library/c08a23f55a0f3ff2",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/library/c08a23f55a0f3ff2",
                            "arn_suffix": "targetgroup/library/c08a23f55a0f3ff2",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.enabled": "true",
                            "health_check.0.healthy_threshold": "3",
                            "health_check.0.interval": "30",
                            "health_check.0.matcher": "200",
                            "health_check.0.path": "/v1/actuator/health",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "3",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/library/c08a23f55a0f3ff2",
                            "lambda_multi_value_headers_enabled": "false",
                            "name": "library",
                            "port": "80",
                            "protocol": "HTTP",
                            "proxy_protocol_v2": "false",
                            "slow_start": "0",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "86400",
                            "stickiness.0.enabled": "false",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "0",
                            "target_type": "ip",
                            "vpc_id": "vpc-0eba7e3e845311627"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_cloudwatch_log_group.application_log_group": {
                    "type": "aws_cloudwatch_log_group",
                    "depends_on": [],
                    "primary": {
                        "id": "/ecs/library-app",
                        "attributes": {
                            "arn": "arn:aws:logs:us-east-1:478297097809:log-group:/ecs/library-app:*",
                            "id": "/ecs/library-app",
                            "kms_key_id": "",
                            "name": "/ecs/library-app",
                            "retention_in_days": "30",
                            "tags.%": "1",
                            "tags.Name": "library-log-group"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_cloudwatch_log_stream.application_log_stream": {
                    "type": "aws_cloudwatch_log_stream",
                    "depends_on": [
                        "aws_cloudwatch_log_group.application_log_group"
                    ],
                    "primary": {
                        "id": "library-log-stream",
                        "attributes": {
                            "arn": "arn:aws:logs:us-east-1:478297097809:log-group:/ecs/library-app:log-stream:library-log-stream",
                            "id": "library-log-stream",
                            "log_group_name": "/ecs/library-app",
                            "name": "library-log-stream"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_ecs_service.application": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "aws_ecs_task_definition.app",
                        "aws_service_discovery_service.service_discovery",
                        "data.aws_subnet_ids.privates"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-east-1:478297097809:service/library",
                        "attributes": {
                            "cluster": "arn:aws:ecs:us-east-1:478297097809:cluster/netlit-cluster",
                            "deployment_controller.#": "1",
                            "deployment_controller.0.type": "ECS",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "1",
                            "enable_ecs_managed_tags": "false",
                            "health_check_grace_period_seconds": "0",
                            "iam_role": "aws-service-role",
                            "id": "arn:aws:ecs:us-east-1:478297097809:service/library",
                            "launch_type": "FARGATE",
                            "load_balancer.#": "1",
                            "load_balancer.3082977755.container_name": "library-app",
                            "load_balancer.3082977755.container_port": "8080",
                            "load_balancer.3082977755.elb_name": "",
                            "load_balancer.3082977755.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/library/c08a23f55a0f3ff2",
                            "name": "library",
                            "network_configuration.#": "1",
                            "network_configuration.0.assign_public_ip": "true",
                            "network_configuration.0.security_groups.#": "1",
                            "network_configuration.0.security_groups.3992133988": "sg-0392d6525798aef75",
                            "network_configuration.0.subnets.#": "2",
                            "network_configuration.0.subnets.1025118997": "subnet-030b52965c423f7fd",
                            "network_configuration.0.subnets.703858991": "subnet-00bce091aa0368037",
                            "ordered_placement_strategy.#": "0",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "platform_version": "LATEST",
                            "propagate_tags": "NONE",
                            "scheduling_strategy": "REPLICA",
                            "service_registries.#": "1",
                            "service_registries.2663142913.container_name": "",
                            "service_registries.2663142913.container_port": "0",
                            "service_registries.2663142913.port": "8080",
                            "service_registries.2663142913.registry_arn": "arn:aws:servicediscovery:us-east-1:478297097809:service/srv-npsyaws2bqcgq77r",
                            "tags.%": "0",
                            "task_definition": "arn:aws:ecs:us-east-1:478297097809:task-definition/library-app-task:7"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_ecs_task_definition.app": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "data.aws_iam_role.execution_role",
                        "local_file.task_definition"
                    ],
                    "primary": {
                        "id": "library-app-task",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-east-1:478297097809:task-definition/library-app-task:7",
                            "container_definitions": "[{\"cpu\":512,\"environment\":[{\"name\":\"AUTHORIZATION_SERVER_URI\",\"value\":\"http://authorization-server.netlit.local:8080/v1/oauth/user\"},{\"name\":\"DATABASE_ENDPOINT_NAME\",\"value\":\"library-1.cluster-cglh2op0opbl.us-east-1.rds.amazonaws.com\"},{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"BOOK_ADDRESS\",\"value\":\"http://netlit-books.s3-website.us-east-2.amazonaws.com\"},{\"name\":\"BOOK_ADDRESS_CONTENT\",\"value\":\"http://cloud-reader.s3-website-us-east-1.amazonaws.com/?epub=epub_content/\"},{\"name\":\"DATABASE_USERNAME\",\"value\":\"root\"},{\"name\":\"AWS_BUCKET\",\"value\":\"cloud-reader/epub_content\"},{\"name\":\"DATABASE_PASSWORD\",\"value\":\"n371!7_1!8r4ry_d4748453\"}],\"essential\":true,\"image\":\"478297097809.dkr.ecr.us-east-1.amazonaws.com/library:1.0.0\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"/ecs/library-app\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"memory\":1024,\"mountPoints\":[],\"name\":\"library-app\",\"portMappings\":[{\"containerPort\":8080,\"hostPort\":8080,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]",
                            "cpu": "512",
                            "execution_role_arn": "arn:aws:iam::478297097809:role/ecsTaskExecutionRole",
                            "family": "library-app-task",
                            "id": "library-app-task",
                            "memory": "1024",
                            "network_mode": "awsvpc",
                            "placement_constraints.#": "0",
                            "proxy_configuration.#": "0",
                            "requires_compatibilities.#": "1",
                            "requires_compatibilities.3072437307": "FARGATE",
                            "revision": "7",
                            "tags.%": "0",
                            "task_role_arn": "arn:aws:iam::478297097809:role/library-prd-role",
                            "volume.#": "0"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.0": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/9b24395967e9a22f",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/library/c08a23f55a0f3ff2",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/9b24395967e9a22f",
                            "condition.#": "1",
                            "condition.513796862.field": "path-pattern",
                            "condition.513796862.values.#": "1",
                            "condition.513796862.values.0": "/v1/bookmarks*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/9b24395967e9a22f",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.1": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/e284abeb44211abe",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/library/c08a23f55a0f3ff2",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/e284abeb44211abe",
                            "condition.#": "1",
                            "condition.3194591406.field": "path-pattern",
                            "condition.3194591406.values.#": "1",
                            "condition.3194591406.values.0": "/v1/books*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/e284abeb44211abe",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "13"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.2": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/c2b31119c767a201",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/library/c08a23f55a0f3ff2",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/c2b31119c767a201",
                            "condition.#": "1",
                            "condition.577901856.field": "path-pattern",
                            "condition.577901856.values.#": "1",
                            "condition.577901856.values.0": "/v1/highlights*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/c2b31119c767a201",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "9"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.3": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/d70c5eff224744d6",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/library/c08a23f55a0f3ff2",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/d70c5eff224744d6",
                            "condition.#": "1",
                            "condition.2551842913.field": "path-pattern",
                            "condition.2551842913.values.#": "1",
                            "condition.2551842913.values.0": "/v1/latest-readings*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/d70c5eff224744d6",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "10"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.4": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/1ab81c75d837b32e",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/library/c08a23f55a0f3ff2",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/1ab81c75d837b32e",
                            "condition.#": "1",
                            "condition.2106176310.field": "path-pattern",
                            "condition.2106176310.values.#": "1",
                            "condition.2106176310.values.0": "/v1/pages/*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/1ab81c75d837b32e",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "3"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.5": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/4e3316220289aec8",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/library/c08a23f55a0f3ff2",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/4e3316220289aec8",
                            "condition.#": "1",
                            "condition.2395802698.field": "path-pattern",
                            "condition.2395802698.values.#": "1",
                            "condition.2395802698.values.0": "/v1/review*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/4e3316220289aec8",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "15"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.6": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/2beb9f23a1da9a6a",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/library/c08a23f55a0f3ff2",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/2beb9f23a1da9a6a",
                            "condition.#": "1",
                            "condition.1697546577.field": "path-pattern",
                            "condition.1697546577.values.#": "1",
                            "condition.1697546577.values.0": "/v1/filter*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/2beb9f23a1da9a6a",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "16"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_service_discovery_service.service_discovery": {
                    "type": "aws_service_discovery_service",
                    "depends_on": [],
                    "primary": {
                        "id": "srv-npsyaws2bqcgq77r",
                        "attributes": {
                            "arn": "arn:aws:servicediscovery:us-east-1:478297097809:service/srv-npsyaws2bqcgq77r",
                            "description": "",
                            "dns_config.#": "1",
                            "dns_config.0.dns_records.#": "2",
                            "dns_config.0.dns_records.0.ttl": "10",
                            "dns_config.0.dns_records.0.type": "A",
                            "dns_config.0.dns_records.1.ttl": "10",
                            "dns_config.0.dns_records.1.type": "SRV",
                            "dns_config.0.namespace_id": "ns-6slscwx3d5mzixts",
                            "dns_config.0.routing_policy": "MULTIVALUE",
                            "health_check_config.#": "0",
                            "health_check_custom_config.#": "1",
                            "health_check_custom_config.0.failure_threshold": "5",
                            "id": "srv-npsyaws2bqcgq77r",
                            "name": "library",
                            "namespace_id": "ns-6slscwx3d5mzixts"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_alb_listener.listener": {
                    "type": "aws_alb_listener",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "certificate_arn": "arn:aws:acm:us-east-1:478297097809:certificate/1a0cd699-17a7-4f43-8437-5ca7937d31bd",
                            "default_action.#": "1",
                            "default_action.0.authenticate_cognito.#": "0",
                            "default_action.0.authenticate_oidc.#": "0",
                            "default_action.0.fixed_response.#": "1",
                            "default_action.0.fixed_response.0.content_type": "application/json",
                            "default_action.0.fixed_response.0.message_body": "{\"error\":\"Not Found\"}",
                            "default_action.0.fixed_response.0.status_code": "404",
                            "default_action.0.order": "1",
                            "default_action.0.redirect.#": "0",
                            "default_action.0.target_group_arn": "",
                            "default_action.0.type": "fixed-response",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:loadbalancer/app/netlit-load-balancer/045842413b4eb2c5",
                            "port": "443",
                            "protocol": "HTTPS",
                            "ssl_policy": "ELBSecurityPolicy-2016-08"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_role.execution_role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "ecsTaskExecutionRole",
                        "attributes": {
                            "arn": "arn:aws:iam::478297097809:role/ecsTaskExecutionRole",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-04-22T16:16:50Z",
                            "description": "Allows ECS tasks to call AWS services on your behalf.",
                            "id": "ecsTaskExecutionRole",
                            "max_session_duration": "3600",
                            "name": "ecsTaskExecutionRole",
                            "path": "/",
                            "permissions_boundary": "",
                            "unique_id": "AROAW6XF2QZIWO5VYNPUF"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_subnet_ids.privates": {
                    "type": "aws_subnet_ids",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-0eba7e3e845311627",
                        "attributes": {
                            "id": "vpc-0eba7e3e845311627",
                            "ids.#": "2",
                            "ids.1025118997": "subnet-030b52965c423f7fd",
                            "ids.703858991": "subnet-00bce091aa0368037",
                            "tags.%": "1",
                            "tags.Tier": "Private",
                            "vpc_id": "vpc-0eba7e3e845311627"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.template_file.application": {
                    "type": "template_file",
                    "depends_on": [
                        "aws_cloudwatch_log_group.application_log_group"
                    ],
                    "primary": {
                        "id": "80ec055f26ad7a9b45daca6018776022b5c2d8d087de302e51900703d4a092a8",
                        "attributes": {
                            "id": "80ec055f26ad7a9b45daca6018776022b5c2d8d087de302e51900703d4a092a8",
                            "rendered": "[\n  {\n    \"cpu\": 512,\n    \"environment\": [{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"AUTHORIZATION_SERVER_URI\",\"value\":\"http://authorization-server.netlit.local:8080/v1/oauth/user\"},{\"name\":\"BOOK_ADDRESS\",\"value\":\"http://netlit-books.s3-website.us-east-2.amazonaws.com\"},{\"name\":\"BOOK_ADDRESS_CONTENT\",\"value\":\"http://cloud-reader.s3-website-us-east-1.amazonaws.com/?epub=epub_content/\"},{\"name\":\"DATABASE_ENDPOINT_NAME\",\"value\":\"library-1.cluster-cglh2op0opbl.us-east-1.rds.amazonaws.com\"},{\"name\":\"DATABASE_USERNAME\",\"value\":\"root\"},{\"name\":\"DATABASE_PASSWORD\",\"value\":\"n371!7_1!8r4ry_d4748453\"},{\t\"name\":\"AWS_BUCKET\",\t\"value\":\"cloud-reader/epub_content\"}],\n    \"essential\": true,\n    \"image\": \"478297097809.dkr.ecr.us-east-1.amazonaws.com/library:1.0.0\",\n    \"logConfiguration\": {\n        \"logDriver\": \"awslogs\",\n        \"options\": {\n          \"awslogs-group\": \"/ecs/library-app\",\n          \"awslogs-region\": \"us-east-1\",\n          \"awslogs-stream-prefix\": \"ecs\"\n        }\n    },\n    \"memory\": 1024,\n    \"mountPoints\": [],\n    \"name\": \"library-app\",\n    \"portMappings\": [\n      {\n        \"containerPort\": 8080,\n        \"hostPort\": 8080\n      }\n    ],\n    \"networkMode\": \"awsvpc\",\n    \"volumesFrom\": []\n  }\n]\n",
                            "template": "[\n  {\n    \"cpu\": ${fargate_cpu},\n    \"environment\": ${environment_variables},\n    \"essential\": true,\n    \"image\": \"${app_image}\",\n    \"logConfiguration\": {\n        \"logDriver\": \"awslogs\",\n        \"options\": {\n          \"awslogs-group\": \"${log_group_name}\",\n          \"awslogs-region\": \"${aws_region}\",\n          \"awslogs-stream-prefix\": \"ecs\"\n        }\n    },\n    \"memory\": ${fargate_memory},\n    \"mountPoints\": [],\n    \"name\": \"${app_name}\",\n    \"portMappings\": [\n      {\n        \"containerPort\": ${app_port},\n        \"hostPort\": ${app_port}\n      }\n    ],\n    \"networkMode\": \"awsvpc\",\n    \"volumesFrom\": []\n  }\n]\n",
                            "vars.%": "8",
                            "vars.app_image": "478297097809.dkr.ecr.us-east-1.amazonaws.com/library:1.0.0",
                            "vars.app_name": "library-app",
                            "vars.app_port": "8080",
                            "vars.aws_region": "us-east-1",
                            "vars.environment_variables": "[{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"AUTHORIZATION_SERVER_URI\",\"value\":\"http://authorization-server.netlit.local:8080/v1/oauth/user\"},{\"name\":\"BOOK_ADDRESS\",\"value\":\"http://netlit-books.s3-website.us-east-2.amazonaws.com\"},{\"name\":\"BOOK_ADDRESS_CONTENT\",\"value\":\"http://cloud-reader.s3-website-us-east-1.amazonaws.com/?epub=epub_content/\"},{\"name\":\"DATABASE_ENDPOINT_NAME\",\"value\":\"library-1.cluster-cglh2op0opbl.us-east-1.rds.amazonaws.com\"},{\"name\":\"DATABASE_USERNAME\",\"value\":\"root\"},{\"name\":\"DATABASE_PASSWORD\",\"value\":\"n371!7_1!8r4ry_d4748453\"},{\t\"name\":\"AWS_BUCKET\",\t\"value\":\"cloud-reader/epub_content\"}]",
                            "vars.fargate_cpu": "512",
                            "vars.fargate_memory": "1024",
                            "vars.log_group_name": "/ecs/library-app"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "local_file.task_definition": {
                    "type": "local_file",
                    "depends_on": [
                        "data.template_file.application"
                    ],
                    "primary": {
                        "id": "044b6d3a5073f17609197399ab8aad1950c95150",
                        "attributes": {
                            "content": "[\n  {\n    \"cpu\": 512,\n    \"environment\": [{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"AUTHORIZATION_SERVER_URI\",\"value\":\"http://authorization-server.netlit.local:8080/v1/oauth/user\"},{\"name\":\"BOOK_ADDRESS\",\"value\":\"http://netlit-books.s3-website.us-east-2.amazonaws.com\"},{\"name\":\"BOOK_ADDRESS_CONTENT\",\"value\":\"http://cloud-reader.s3-website-us-east-1.amazonaws.com/?epub=epub_content/\"},{\"name\":\"DATABASE_ENDPOINT_NAME\",\"value\":\"library-1.cluster-cglh2op0opbl.us-east-1.rds.amazonaws.com\"},{\"name\":\"DATABASE_USERNAME\",\"value\":\"root\"},{\"name\":\"DATABASE_PASSWORD\",\"value\":\"n371!7_1!8r4ry_d4748453\"},{\t\"name\":\"AWS_BUCKET\",\t\"value\":\"cloud-reader/epub_content\"}],\n    \"essential\": true,\n    \"image\": \"478297097809.dkr.ecr.us-east-1.amazonaws.com/library:1.0.0\",\n    \"logConfiguration\": {\n        \"logDriver\": \"awslogs\",\n        \"options\": {\n          \"awslogs-group\": \"/ecs/library-app\",\n          \"awslogs-region\": \"us-east-1\",\n          \"awslogs-stream-prefix\": \"ecs\"\n        }\n    },\n    \"memory\": 1024,\n    \"mountPoints\": [],\n    \"name\": \"library-app\",\n    \"portMappings\": [\n      {\n        \"containerPort\": 8080,\n        \"hostPort\": 8080\n      }\n    ],\n    \"networkMode\": \"awsvpc\",\n    \"volumesFrom\": []\n  }\n]\n",
                            "filename": "/Users/giscard/IdeaProjects/infrastructure/prd/container-cluster/library-task-definition.json",
                            "id": "044b6d3a5073f17609197399ab8aad1950c95150"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.local"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "payments"
            ],
            "outputs": {
                "discovery_dns": {
                    "sensitive": false,
                    "type": "string",
                    "value": "payments.netlit.local"
                }
            },
            "resources": {
                "aws_alb_target_group.app": {
                    "type": "aws_alb_target_group",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/payments/87fd5f09b09595af",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/payments/87fd5f09b09595af",
                            "arn_suffix": "targetgroup/payments/87fd5f09b09595af",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.enabled": "true",
                            "health_check.0.healthy_threshold": "3",
                            "health_check.0.interval": "30",
                            "health_check.0.matcher": "200",
                            "health_check.0.path": "/v1/actuator/health",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "3",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/payments/87fd5f09b09595af",
                            "lambda_multi_value_headers_enabled": "false",
                            "name": "payments",
                            "port": "80",
                            "protocol": "HTTP",
                            "proxy_protocol_v2": "false",
                            "slow_start": "0",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "86400",
                            "stickiness.0.enabled": "false",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "0",
                            "target_type": "ip",
                            "vpc_id": "vpc-0eba7e3e845311627"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_cloudwatch_log_group.application_log_group": {
                    "type": "aws_cloudwatch_log_group",
                    "depends_on": [],
                    "primary": {
                        "id": "/ecs/payments-app",
                        "attributes": {
                            "arn": "arn:aws:logs:us-east-1:478297097809:log-group:/ecs/payments-app:*",
                            "id": "/ecs/payments-app",
                            "kms_key_id": "",
                            "name": "/ecs/payments-app",
                            "retention_in_days": "30",
                            "tags.%": "1",
                            "tags.Name": "payments-log-group"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_cloudwatch_log_stream.application_log_stream": {
                    "type": "aws_cloudwatch_log_stream",
                    "depends_on": [
                        "aws_cloudwatch_log_group.application_log_group"
                    ],
                    "primary": {
                        "id": "payments-log-stream",
                        "attributes": {
                            "arn": "arn:aws:logs:us-east-1:478297097809:log-group:/ecs/payments-app:log-stream:payments-log-stream",
                            "id": "payments-log-stream",
                            "log_group_name": "/ecs/payments-app",
                            "name": "payments-log-stream"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_ecs_service.application": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "aws_ecs_task_definition.app",
                        "aws_service_discovery_service.service_discovery",
                        "data.aws_subnet_ids.privates"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-east-1:478297097809:service/payments",
                        "attributes": {
                            "cluster": "arn:aws:ecs:us-east-1:478297097809:cluster/netlit-cluster",
                            "deployment_controller.#": "1",
                            "deployment_controller.0.type": "ECS",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "1",
                            "enable_ecs_managed_tags": "false",
                            "health_check_grace_period_seconds": "0",
                            "iam_role": "aws-service-role",
                            "id": "arn:aws:ecs:us-east-1:478297097809:service/payments",
                            "launch_type": "FARGATE",
                            "load_balancer.#": "1",
                            "load_balancer.461807832.container_name": "payments-app",
                            "load_balancer.461807832.container_port": "8080",
                            "load_balancer.461807832.elb_name": "",
                            "load_balancer.461807832.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/payments/87fd5f09b09595af",
                            "name": "payments",
                            "network_configuration.#": "1",
                            "network_configuration.0.assign_public_ip": "true",
                            "network_configuration.0.security_groups.#": "1",
                            "network_configuration.0.security_groups.3992133988": "sg-0392d6525798aef75",
                            "network_configuration.0.subnets.#": "2",
                            "network_configuration.0.subnets.1025118997": "subnet-030b52965c423f7fd",
                            "network_configuration.0.subnets.703858991": "subnet-00bce091aa0368037",
                            "ordered_placement_strategy.#": "0",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "platform_version": "LATEST",
                            "propagate_tags": "NONE",
                            "scheduling_strategy": "REPLICA",
                            "service_registries.#": "1",
                            "service_registries.3920591289.container_name": "",
                            "service_registries.3920591289.container_port": "0",
                            "service_registries.3920591289.port": "8080",
                            "service_registries.3920591289.registry_arn": "arn:aws:servicediscovery:us-east-1:478297097809:service/srv-burwltl3squk5ksk",
                            "tags.%": "0",
                            "task_definition": "arn:aws:ecs:us-east-1:478297097809:task-definition/payments-app-task:3"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_ecs_task_definition.app": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "data.aws_iam_role.execution_role",
                        "local_file.task_definition"
                    ],
                    "primary": {
                        "id": "payments-app-task",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-east-1:478297097809:task-definition/payments-app-task:3",
                            "container_definitions": "[{\"cpu\":512,\"environment\":[{\"name\":\"ADYEN_CHECKOUT_API_ADDRESS\",\"value\":\"https://checkout-test.adyen.com\"},{\"name\":\"AUTHORIZATION_SERVER_URI\",\"value\":\"http://authorization-server.netlit.local:8080/v1/oauth/user\"},{\"name\":\"ADYEN_MERCHANT_ACCOUNT\",\"value\":\"EditoraDoBrasilNetLit\"},{\"name\":\"DATABASE_ENDPOINT_NAME\",\"value\":\"jdbc:mysql://library-1.cluster-cglh2op0opbl.us-east-1.rds.amazonaws.com/payments\"},{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"DATABASE_USERNAME\",\"value\":\"root\"},{\"name\":\"ADYEN_API_ADDRESS\",\"value\":\"https://pal-test.adyen.com/pal/servlet\"},{\"name\":\"AWS_SQS_QUEUE\",\"value\":\"https://sqs.us-east-1.amazonaws.com/478297097809/payments-queue\"},{\"name\":\"ADYEN_API_KEY\",\"value\":\"AQEqhmfuXNWTK0Qc+iSVlm0sqPaabIRvH5JZUWmghokj2pHQnP+ZQEXkXy7NEMFdWw2+5HzctViMSCJMYAc=-vOQXJCIdE95kITymUHHQFH3Xee1I5IfoiHHIivUQxqU=-s9uNXNh7n8MhDctB\"},{\"name\":\"DATABASE_PASSWORD\",\"value\":\"n371!7_1!8r4ry_d4748453\"}],\"essential\":true,\"image\":\"478297097809.dkr.ecr.us-east-1.amazonaws.com/payments:1.0.0\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"/ecs/payments-app\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"memory\":1024,\"mountPoints\":[],\"name\":\"payments-app\",\"portMappings\":[{\"containerPort\":8080,\"hostPort\":8080,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]",
                            "cpu": "512",
                            "execution_role_arn": "arn:aws:iam::478297097809:role/ecsTaskExecutionRole",
                            "family": "payments-app-task",
                            "id": "payments-app-task",
                            "memory": "1024",
                            "network_mode": "awsvpc",
                            "placement_constraints.#": "0",
                            "proxy_configuration.#": "0",
                            "requires_compatibilities.#": "1",
                            "requires_compatibilities.3072437307": "FARGATE",
                            "revision": "3",
                            "tags.%": "0",
                            "task_role_arn": "arn:aws:iam::478297097809:role/payments-prd-role",
                            "volume.#": "0"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.0": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/d22ee57459747c9c",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/payments/87fd5f09b09595af",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/d22ee57459747c9c",
                            "condition.#": "1",
                            "condition.3692101048.field": "path-pattern",
                            "condition.3692101048.values.#": "1",
                            "condition.3692101048.values.0": "/v1/credit-cards*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/d22ee57459747c9c",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "4"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.1": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/a0aff5421d794908",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/payments/87fd5f09b09595af",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/a0aff5421d794908",
                            "condition.#": "1",
                            "condition.4182108729.field": "path-pattern",
                            "condition.4182108729.values.#": "1",
                            "condition.4182108729.values.0": "/v1/payments*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/a0aff5421d794908",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "17"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener_rule.container.2": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_alb_target_group.app",
                        "data.aws_alb_listener.listener"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/37bc11ce50fe3869",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:targetgroup/payments/87fd5f09b09595af",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/37bc11ce50fe3869",
                            "condition.#": "1",
                            "condition.572556579.field": "path-pattern",
                            "condition.572556579.values.#": "1",
                            "condition.572556579.values.0": "/v1/subscription-plans*",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener-rule/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f/37bc11ce50fe3869",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "priority": "18"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_service_discovery_service.service_discovery": {
                    "type": "aws_service_discovery_service",
                    "depends_on": [],
                    "primary": {
                        "id": "srv-burwltl3squk5ksk",
                        "attributes": {
                            "arn": "arn:aws:servicediscovery:us-east-1:478297097809:service/srv-burwltl3squk5ksk",
                            "description": "",
                            "dns_config.#": "1",
                            "dns_config.0.dns_records.#": "2",
                            "dns_config.0.dns_records.0.ttl": "10",
                            "dns_config.0.dns_records.0.type": "A",
                            "dns_config.0.dns_records.1.ttl": "10",
                            "dns_config.0.dns_records.1.type": "SRV",
                            "dns_config.0.namespace_id": "ns-6slscwx3d5mzixts",
                            "dns_config.0.routing_policy": "MULTIVALUE",
                            "health_check_config.#": "0",
                            "health_check_custom_config.#": "1",
                            "health_check_custom_config.0.failure_threshold": "5",
                            "id": "srv-burwltl3squk5ksk",
                            "name": "payments",
                            "namespace_id": "ns-6slscwx3d5mzixts"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_alb_listener.listener": {
                    "type": "aws_alb_listener",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "certificate_arn": "arn:aws:acm:us-east-1:478297097809:certificate/1a0cd699-17a7-4f43-8437-5ca7937d31bd",
                            "default_action.#": "1",
                            "default_action.0.authenticate_cognito.#": "0",
                            "default_action.0.authenticate_oidc.#": "0",
                            "default_action.0.fixed_response.#": "1",
                            "default_action.0.fixed_response.0.content_type": "application/json",
                            "default_action.0.fixed_response.0.message_body": "{\"error\":\"Not Found\"}",
                            "default_action.0.fixed_response.0.status_code": "404",
                            "default_action.0.order": "1",
                            "default_action.0.redirect.#": "0",
                            "default_action.0.target_group_arn": "",
                            "default_action.0.type": "fixed-response",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:478297097809:listener/app/netlit-load-balancer/045842413b4eb2c5/6b7c2167a381520f",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:478297097809:loadbalancer/app/netlit-load-balancer/045842413b4eb2c5",
                            "port": "443",
                            "protocol": "HTTPS",
                            "ssl_policy": "ELBSecurityPolicy-2016-08"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_role.execution_role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "ecsTaskExecutionRole",
                        "attributes": {
                            "arn": "arn:aws:iam::478297097809:role/ecsTaskExecutionRole",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-04-22T16:16:50Z",
                            "description": "Allows ECS tasks to call AWS services on your behalf.",
                            "id": "ecsTaskExecutionRole",
                            "max_session_duration": "3600",
                            "name": "ecsTaskExecutionRole",
                            "path": "/",
                            "permissions_boundary": "",
                            "unique_id": "AROAW6XF2QZIWO5VYNPUF"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_subnet_ids.privates": {
                    "type": "aws_subnet_ids",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-0eba7e3e845311627",
                        "attributes": {
                            "id": "vpc-0eba7e3e845311627",
                            "ids.#": "2",
                            "ids.1025118997": "subnet-030b52965c423f7fd",
                            "ids.703858991": "subnet-00bce091aa0368037",
                            "tags.%": "1",
                            "tags.Tier": "Private",
                            "vpc_id": "vpc-0eba7e3e845311627"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.template_file.application": {
                    "type": "template_file",
                    "depends_on": [
                        "aws_cloudwatch_log_group.application_log_group"
                    ],
                    "primary": {
                        "id": "f8cb2da8b44e47e8338eed0bb4b5c3d80a75aaa6f0fd327bfee73fb2ed68e1b9",
                        "attributes": {
                            "id": "f8cb2da8b44e47e8338eed0bb4b5c3d80a75aaa6f0fd327bfee73fb2ed68e1b9",
                            "rendered": "[\n  {\n    \"cpu\": 512,\n    \"environment\": [{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"ADYEN_API_ADDRESS\",\"value\":\"https://pal-test.adyen.com/pal/servlet\"},{\"name\":\"ADYEN_CHECKOUT_API_ADDRESS\",\"value\":\"https://checkout-test.adyen.com\"},{\"name\":\"ADYEN_API_KEY\",\"value\":\"AQEqhmfuXNWTK0Qc+iSVlm0sqPaabIRvH5JZUWmghokj2pHQnP+ZQEXkXy7NEMFdWw2+5HzctViMSCJMYAc=-vOQXJCIdE95kITymUHHQFH3Xee1I5IfoiHHIivUQxqU=-s9uNXNh7n8MhDctB\"},{\"name\":\"ADYEN_MERCHANT_ACCOUNT\",\"value\":\"EditoraDoBrasilNetLit\"},{\"name\":\"AUTHORIZATION_SERVER_URI\",\"value\":\"http://authorization-server.netlit.local:8080/v1/oauth/user\"},{\"name\":\"AWS_SQS_QUEUE\",\"value\":\"https://sqs.us-east-1.amazonaws.com/478297097809/payments-queue\"},{\"name\":\"DATABASE_ENDPOINT_NAME\",\"value\":\"jdbc:mysql://library-1.cluster-cglh2op0opbl.us-east-1.rds.amazonaws.com/payments\"},{\"name\":\"DATABASE_USERNAME\",\"value\":\"root\"},{\"name\":\"DATABASE_PASSWORD\",\"value\":\"n371!7_1!8r4ry_d4748453\"}],\n    \"essential\": true,\n    \"image\": \"478297097809.dkr.ecr.us-east-1.amazonaws.com/payments:1.0.0\",\n    \"logConfiguration\": {\n        \"logDriver\": \"awslogs\",\n        \"options\": {\n          \"awslogs-group\": \"/ecs/payments-app\",\n          \"awslogs-region\": \"us-east-1\",\n          \"awslogs-stream-prefix\": \"ecs\"\n        }\n    },\n    \"memory\": 1024,\n    \"mountPoints\": [],\n    \"name\": \"payments-app\",\n    \"portMappings\": [\n      {\n        \"containerPort\": 8080,\n        \"hostPort\": 8080\n      }\n    ],\n    \"networkMode\": \"awsvpc\",\n    \"volumesFrom\": []\n  }\n]\n",
                            "template": "[\n  {\n    \"cpu\": ${fargate_cpu},\n    \"environment\": ${environment_variables},\n    \"essential\": true,\n    \"image\": \"${app_image}\",\n    \"logConfiguration\": {\n        \"logDriver\": \"awslogs\",\n        \"options\": {\n          \"awslogs-group\": \"${log_group_name}\",\n          \"awslogs-region\": \"${aws_region}\",\n          \"awslogs-stream-prefix\": \"ecs\"\n        }\n    },\n    \"memory\": ${fargate_memory},\n    \"mountPoints\": [],\n    \"name\": \"${app_name}\",\n    \"portMappings\": [\n      {\n        \"containerPort\": ${app_port},\n        \"hostPort\": ${app_port}\n      }\n    ],\n    \"networkMode\": \"awsvpc\",\n    \"volumesFrom\": []\n  }\n]\n",
                            "vars.%": "8",
                            "vars.app_image": "478297097809.dkr.ecr.us-east-1.amazonaws.com/payments:1.0.0",
                            "vars.app_name": "payments-app",
                            "vars.app_port": "8080",
                            "vars.aws_region": "us-east-1",
                            "vars.environment_variables": "[{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"ADYEN_API_ADDRESS\",\"value\":\"https://pal-test.adyen.com/pal/servlet\"},{\"name\":\"ADYEN_CHECKOUT_API_ADDRESS\",\"value\":\"https://checkout-test.adyen.com\"},{\"name\":\"ADYEN_API_KEY\",\"value\":\"AQEqhmfuXNWTK0Qc+iSVlm0sqPaabIRvH5JZUWmghokj2pHQnP+ZQEXkXy7NEMFdWw2+5HzctViMSCJMYAc=-vOQXJCIdE95kITymUHHQFH3Xee1I5IfoiHHIivUQxqU=-s9uNXNh7n8MhDctB\"},{\"name\":\"ADYEN_MERCHANT_ACCOUNT\",\"value\":\"EditoraDoBrasilNetLit\"},{\"name\":\"AUTHORIZATION_SERVER_URI\",\"value\":\"http://authorization-server.netlit.local:8080/v1/oauth/user\"},{\"name\":\"AWS_SQS_QUEUE\",\"value\":\"https://sqs.us-east-1.amazonaws.com/478297097809/payments-queue\"},{\"name\":\"DATABASE_ENDPOINT_NAME\",\"value\":\"jdbc:mysql://library-1.cluster-cglh2op0opbl.us-east-1.rds.amazonaws.com/payments\"},{\"name\":\"DATABASE_USERNAME\",\"value\":\"root\"},{\"name\":\"DATABASE_PASSWORD\",\"value\":\"n371!7_1!8r4ry_d4748453\"}]",
                            "vars.fargate_cpu": "512",
                            "vars.fargate_memory": "1024",
                            "vars.log_group_name": "/ecs/payments-app"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "local_file.task_definition": {
                    "type": "local_file",
                    "depends_on": [
                        "data.template_file.application"
                    ],
                    "primary": {
                        "id": "d91e6d1eb64afdb8fed1601a7de31f6cfec605e4",
                        "attributes": {
                            "content": "[\n  {\n    \"cpu\": 512,\n    \"environment\": [{\"name\":\"SPRING_PROFILES_ACTIVE\",\"value\":\"prod\"},{\"name\":\"ADYEN_API_ADDRESS\",\"value\":\"https://pal-test.adyen.com/pal/servlet\"},{\"name\":\"ADYEN_CHECKOUT_API_ADDRESS\",\"value\":\"https://checkout-test.adyen.com\"},{\"name\":\"ADYEN_API_KEY\",\"value\":\"AQEqhmfuXNWTK0Qc+iSVlm0sqPaabIRvH5JZUWmghokj2pHQnP+ZQEXkXy7NEMFdWw2+5HzctViMSCJMYAc=-vOQXJCIdE95kITymUHHQFH3Xee1I5IfoiHHIivUQxqU=-s9uNXNh7n8MhDctB\"},{\"name\":\"ADYEN_MERCHANT_ACCOUNT\",\"value\":\"EditoraDoBrasilNetLit\"},{\"name\":\"AUTHORIZATION_SERVER_URI\",\"value\":\"http://authorization-server.netlit.local:8080/v1/oauth/user\"},{\"name\":\"AWS_SQS_QUEUE\",\"value\":\"https://sqs.us-east-1.amazonaws.com/478297097809/payments-queue\"},{\"name\":\"DATABASE_ENDPOINT_NAME\",\"value\":\"jdbc:mysql://library-1.cluster-cglh2op0opbl.us-east-1.rds.amazonaws.com/payments\"},{\"name\":\"DATABASE_USERNAME\",\"value\":\"root\"},{\"name\":\"DATABASE_PASSWORD\",\"value\":\"n371!7_1!8r4ry_d4748453\"}],\n    \"essential\": true,\n    \"image\": \"478297097809.dkr.ecr.us-east-1.amazonaws.com/payments:1.0.0\",\n    \"logConfiguration\": {\n        \"logDriver\": \"awslogs\",\n        \"options\": {\n          \"awslogs-group\": \"/ecs/payments-app\",\n          \"awslogs-region\": \"us-east-1\",\n          \"awslogs-stream-prefix\": \"ecs\"\n        }\n    },\n    \"memory\": 1024,\n    \"mountPoints\": [],\n    \"name\": \"payments-app\",\n    \"portMappings\": [\n      {\n        \"containerPort\": 8080,\n        \"hostPort\": 8080\n      }\n    ],\n    \"networkMode\": \"awsvpc\",\n    \"volumesFrom\": []\n  }\n]\n",
                            "filename": "/Users/giscard/IdeaProjects/infrastructure/prd/container-cluster/payments-task-definition.json",
                            "id": "d91e6d1eb64afdb8fed1601a7de31f6cfec605e4"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.local"
                }
            },
            "depends_on": []
        }
    ]
}
